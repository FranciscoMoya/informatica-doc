<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml" lang="es">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Ejemplos de divide y vencerás</title>
    
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-3.0.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/codemirror.css" type="text/css" />
    <link rel="stylesheet" href="_static/livecode.css" type="text/css" />
    <link rel="stylesheet" href="_static/fitb.css" type="text/css" />
    <link rel="stylesheet" href="_static/poll.css" type="text/css" />
    <link rel="stylesheet" href="_static/tabbedstuff.css" type="text/css" />
    <link rel="stylesheet" href="_static/video.css" type="text/css" />
    <link rel="stylesheet" href="_static/dragndrop.css" type="text/css" />
    <link rel="stylesheet" href="_static/datafile.css" type="text/css" />
    <link rel="stylesheet" href="_static/clickable.css" type="text/css" />
    <link rel="stylesheet" href="_static/parsons.css" type="text/css" />
    <link rel="stylesheet" href="_static/lib/prettify.css" type="text/css" />
    <link rel="stylesheet" href="_static/codemirror.css" type="text/css" />
    <link rel="stylesheet" href="_static/activecode.css" type="text/css" />
    <link rel="stylesheet" href="_static/pytutor.css" type="text/css" />
    <link rel="stylesheet" href="_static/modal-basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/jquery-ui-1.10.3.custom.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="_static/user-highlights.css" type="text/css" />
    <link rel="stylesheet" href="_static/runestone-custom-sphinx-bootstrap.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/runestonebase.js"></script>
    <script type="text/javascript" src="_static/codemirror.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/livecode.js"></script>
    <script type="text/javascript" src="_static/clike.js"></script>
    <script type="text/javascript" src="_static/animationbase.js"></script>
    <script type="text/javascript" src="_static/fitb.js"></script>
    <script type="text/javascript" src="_static/timedfitb.js"></script>
    <script type="text/javascript" src="_static/poll.js"></script>
    <script type="text/javascript" src="_static/shortanswer.js"></script>
    <script type="text/javascript" src="_static/timed_shortanswer.js"></script>
    <script type="text/javascript" src="_static/tabbedstuff.js"></script>
    <script type="text/javascript" src="_static/dragndrop.js"></script>
    <script type="text/javascript" src="_static/timeddnd.js"></script>
    <script type="text/javascript" src="_static/skulpt.min.js"></script>
    <script type="text/javascript" src="_static/skulpt-stdlib.js"></script>
    <script type="text/javascript" src="_static/datafile.js"></script>
    <script type="text/javascript" src="_static/mchoice.js"></script>
    <script type="text/javascript" src="_static/timedmc.js"></script>
    <script type="text/javascript" src="_static/timed.js"></script>
    <script type="text/javascript" src="_static/clickable.js"></script>
    <script type="text/javascript" src="_static/timedclickable.js"></script>
    <script type="text/javascript" src="_static/reveal.js"></script>
    <script type="text/javascript" src="_static/lib/prettify.js"></script>
    <script type="text/javascript" src="_static/lib/hammer.min.js"></script>
    <script type="text/javascript" src="_static/parsons.js"></script>
    <script type="text/javascript" src="_static/timedparsons.js"></script>
    <script type="text/javascript" src="_static/jquery.highlight.js"></script>
    <script type="text/javascript" src="_static/bookfuncs.js"></script>
    <script type="text/javascript" src="_static/codemirror.js"></script>
    <script type="text/javascript" src="_static/xml.js"></script>
    <script type="text/javascript" src="_static/css.js"></script>
    <script type="text/javascript" src="_static/htmlmixed.js"></script>
    <script type="text/javascript" src="_static/python.js"></script>
    <script type="text/javascript" src="_static/javascript.js"></script>
    <script type="text/javascript" src="_static/activecode.js"></script>
    <script type="text/javascript" src="_static/skulpt.min.js"></script>
    <script type="text/javascript" src="_static/skulpt-stdlib.js"></script>
    <script type="text/javascript" src="_static/clike.js"></script>
    <script type="text/javascript" src="_static/timed_activecode.js"></script>
    <script type="text/javascript" src="_static/d3.v2.min.js"></script>
    <script type="text/javascript" src="_static/jquery.ba-bbq.min.js"></script>
    <script type="text/javascript" src="_static/jquery.jsPlumb-1.3.10-all-min.js"></script>
    <script type="text/javascript" src="_static/pytutor.js"></script>
    <script type="text/javascript" src="_static/codelens.js"></script>
    <script type="text/javascript" src="_static/translations.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="_static/jquery-ui-1.10.3.custom.min.js"></script>
    <script type="text/javascript" src="_static/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.0.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <script type="text/javascript" src="_static/waypoints.min.js"></script>
    <script type="text/javascript" src="_static/rangy-core.js"></script>
    <script type="text/javascript" src="_static/rangy-textrange.js"></script>
    <script type="text/javascript" src="_static/rangy-cssclassapplier.js"></script>
    <script type="text/javascript" src="_static/user-highlights.js"></script>
    <script type="text/javascript" src="_static/jquery.idle-timer.js"></script>
    <script type="text/javascript" src="_static/processing-1.4.1.min.js"></script>
    <script type="text/javascript" src="_static/jquery.hotkey.js"></script>
    <script type="text/javascript" src="_static/jquery-migrate-1.2.1.min.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="index" title="Índice" href="genindex.html" />
    <link rel="search" title="Búsqueda" href="search.html" />
    <link rel="top" title="None" href="index.html" />
    <link rel="next" title="Prueba de software" href="python-12.html" />
    <link rel="prev" title="Listas, tuplas, conjuntos y diccionarios" href="python-09.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
<link rel="shortcut icon" href="/runestone/static/favicon.ico" type="image/ico" />

<script type="text/javascript">
  eBookConfig = {};
  eBookConfig.host = 'http://127.0.0.1:8000' ? 'http://127.0.0.1:8000' : 'http://127.0.0.1:8000';
  eBookConfig.app = eBookConfig.host+'/runestone';
  eBookConfig.ajaxURL = eBookConfig.app+'/ajax/';
  eBookConfig.course = 'CS101';
  eBookConfig.logLevel = 0;
  eBookConfig.loginRequired = false;
  eBookConfig.build_info = "unknown";
  eBookConfig.isLoggedIn = false;
  eBookConfig.useRunestoneServices = false;
  eBookConfig.python3 = true;
  eBookConfig.basecourse = 'informatica';
  eBookConfig.runestone_version = '2.7.11';
</script>

<div id="fb-root"></div>
<script>
  (function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s); js.id = id;
    js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&status=0";
    fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'facebook-jssdk'));
</script>



  </head>
  <body role="document">


<!-- Begin navbar -->
<div id="navbar" class="navbar navbar-default navbar-fixed-top" role="navigation">

  <div class="container">

    <div class="navbar-header">
      <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
      <button type='button' class='navbar-toggle' data-toggle="collapse" data-target=".navbar-ex1-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div>
        <div style='float:left;display:block;background-size:90px 40px !important;height:40px;width:90px;background:transparent url("_static/eii_small.png") no-repeat 0px 0px;'>&nbsp; </div>
        <a class="navbar-brand" href="index.html">Informática</a>
      </div>
    </div>

    <div class="navbar-collapse collapse navbar-ex1-collapse">

      <ul class="nav navbar-nav navbar-right">

        <!--<li class="divider-vertical"></li>-->
        
          <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Ir a <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"><ul>
<li><a class="reference internal" href="#">Ejemplos de divide y vencerás</a><ul>
<li><a class="reference internal" href="#torres-de-hanoi">Torres de Hanoi</a></li>
<li><a class="reference internal" href="#ordenacion-merge-sort">Ordenación: <em>Merge sort</em></a></li>
<li><a class="reference internal" href="#ordenacion-quicksort">Ordenación: <em>Quicksort</em></a></li>
</ul>
</li>
</ul>
</ul>
</li>
          <!--<li class="divider-vertical"></li>-->
        
        <!--
          
  <li id="relations-prev" title="Previous Chapter - Listas, tuplas, conjuntos y diccionarios" data-toggle="tooltip">
    <a href="python-09.html" >
      <i class='glyphicon glyphicon-backward' style='opacity:0.9;'></i>
    </a>
  </li>
  
  <li id="relations-next" title='Next Chapter - Prueba de software' data-toggle="tooltip" >
    <a href="python-12.html" >
      <i class='glyphicon glyphicon-forward' style='opacity:0.9;'></i>
    </a>
  </li>
  <li class="divider-vertical"></li>

<script type="text/javascript">
  opts = {'placement':'bottom',
          'selector': '',
          'delay': { show: 100, hide: 50}
         };

  $('#relations-prev').tooltip(opts);
  $('#relations-next').tooltip(opts);
</script>
        -->

        <li class="divider-vertical"></li>

        <!-- search dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-search" style='opacity:0.9;'></i>
          </a>
          <ul class='dropdown-menu'>
            
                <li><a href='index.html'>Índice del libro</a></li>
            
            <li><a href="genindex.html">Índice alfabético</a></li>
            <li class="divider"></li>
            <li id="scratch_ac_link"><a href="javascript:ACFactory.toggleScratchActivecode()">Código activo de prueba</a></li>
            <li class="divider"></li>
            <li style="width: 240px;">
              <form class="navbar-search" style="margin:10px;" action="search.html" method="get">
                <div class="input-group">
                  <input type="text" class="form-control" name="q" placeholder="Buscar en el libro" />
                  <span class="input-group-btn">
                    <button class="btn btn-primary" style="margin:0;" type="submit">
                      <i class="glyphicon glyphicon-search"></i>
                    </button>
                  </span>
                </div><!-- /input-group -->
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
            </li>
          </ul>
        </li>
        <!-- end search dropdown -->

        
        <li class="divider-vertical"></li>

        <!-- help menu dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-question-sign" style="opacity:0.9;"></i>
          </a>
          <ul class="dropdown-menu user-menu">
            <li><a href="_static/navhelp.html">Ayuda a la navegación</a></li>
            
            <li>
  <a href="_sources/python-10.txt"
     rel="nofollow">Ver fuente</a></li>
            
            <li class="divider"></li>
            <li><a href='http://runestoneinteractive.org'>Acerca de Runestone</a></li>
          </ul>
        </li>
        <!-- end help menu dropdown -->

        <li class="divider-vertical"></li>

      </ul>

    </div>
  </div>
</div>


<div class="container" id="continue-reading"></div>

<div class="container" id="main-content">
  
  <div class="section" id="ejemplos-de-divide-y-venceras">
<h1>Ejemplos de divide y vencerás<a class="headerlink" href="#ejemplos-de-divide-y-venceras" title="Enlazar permanentemente con este título">¶</a></h1>
<p><strong>Nota: Algunos de estos ejemplos son interactivos. Para probarlos
necesitarás las capacidades de IPython Notebook. La forma más fácil es
subirlo en `tmpnb.org &lt;http://tmpnb.org/&gt;`__. veamos cómo hacerlo.</strong></p>
<ul class="simple">
<li>Descarga el <a class="reference external" href="https://github.com/FranciscoMoya/informatica/raw/master/notebooks/python-10.ipynb">archivo correspondiente a este
cuaderno</a>
y guárdalo en tu ordenador.</li>
<li>Entra en <a class="reference external" href="http://tmpnb.org">tmpnb.org</a> y pulsa sobre el botón
<em>Upload</em>. Selecciona el archivo que guardaste en el paso anterior y
acepta.</li>
<li>Aparecerá el archivo en la página de <a class="reference external" href="http://tmpnb.org">tmpnb.org</a>
con un botón <em>Upload</em> a la derecha, pulsa sobre él para que se
realice la transferencia.</li>
<li>Posteriormente comprueba de que el nombre del archivo termina en
<code class="docutils literal"><span class="pre">.ipynb</span></code>. Si no lo hace marca la casilla (<em>checkbox</em>) a la
izquierda del archivo subido y pulsa el botón <em>Rename</em>. Edita el
nombre para que termine en <code class="docutils literal"><span class="pre">.ipynb</span></code> y acepta.</li>
<li>Ya puedes pinchar sobre el nombre del archivo para interactuar con el
cuaderno. Ahora selecciona la opción de menú <em>Cell-&gt;Run All</em> para ver
ejecutar todas las celdas en el nuevo entorno.</li>
</ul>
<div class="section" id="torres-de-hanoi">
<h2>Torres de Hanoi<a class="headerlink" href="#torres-de-hanoi" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Mover <code class="docutils literal"><span class="pre">n</span></code> discos desde el palo <code class="docutils literal"><span class="pre">orig</span></code> al palo <code class="docutils literal"><span class="pre">dest</span></code>. Es directo
usando la estrategia de divide y vencerás. Para mover los <code class="docutils literal"><span class="pre">n</span></code> discos
tenemos que mover primero los <code class="docutils literal"><span class="pre">n-1</span></code> superiores al palo libre, entonces
movemos el disco grande al palo destino y posteriormente movemos los
<code class="docutils literal"><span class="pre">n-1</span></code> discos del palo libre al palo destino.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">hanoi</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">orig</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="mi">3</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Asume n número natural (&gt; 0),</span>
<span class="sd">    orig número de palo origen, orig in (1,2,3),</span>
<span class="sd">    dest número de palo destino, dest in (1,2,3).</span>
<span class="sd">    Imprime los movimientos a realizar para mover n discos</span>
<span class="sd">    desde el palo orig al palo dest.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">if</span> <span class="n">n</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span>
    <span class="n">libre</span> <span class="o">=</span> <span class="p">(</span><span class="nb">set</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span> <span class="o">-</span> <span class="nb">set</span><span class="p">((</span><span class="n">orig</span><span class="p">,</span><span class="n">dest</span><span class="p">)))</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
    <span class="n">hanoi</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">orig</span><span class="p">,</span> <span class="n">libre</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;De </span><span class="si">{}</span><span class="s1"> a </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">orig</span><span class="p">,</span> <span class="n">dest</span><span class="p">))</span>
    <span class="n">hanoi</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">libre</span><span class="p">,</span> <span class="n">dest</span><span class="p">)</span>
</pre></div>
</div>
<p>Solo falta probarlo:</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">hanoi</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">De</span> <span class="mi">1</span> <span class="n">a</span> <span class="mi">2</span>
<span class="n">De</span> <span class="mi">1</span> <span class="n">a</span> <span class="mi">3</span>
<span class="n">De</span> <span class="mi">2</span> <span class="n">a</span> <span class="mi">3</span>
<span class="n">De</span> <span class="mi">1</span> <span class="n">a</span> <span class="mi">2</span>
<span class="n">De</span> <span class="mi">3</span> <span class="n">a</span> <span class="mi">1</span>
<span class="n">De</span> <span class="mi">3</span> <span class="n">a</span> <span class="mi">2</span>
<span class="n">De</span> <span class="mi">1</span> <span class="n">a</span> <span class="mi">2</span>
<span class="n">De</span> <span class="mi">1</span> <span class="n">a</span> <span class="mi">3</span>
<span class="n">De</span> <span class="mi">2</span> <span class="n">a</span> <span class="mi">3</span>
<span class="n">De</span> <span class="mi">2</span> <span class="n">a</span> <span class="mi">1</span>
<span class="n">De</span> <span class="mi">3</span> <span class="n">a</span> <span class="mi">1</span>
<span class="n">De</span> <span class="mi">2</span> <span class="n">a</span> <span class="mi">3</span>
<span class="n">De</span> <span class="mi">1</span> <span class="n">a</span> <span class="mi">2</span>
<span class="n">De</span> <span class="mi">1</span> <span class="n">a</span> <span class="mi">3</span>
<span class="n">De</span> <span class="mi">2</span> <span class="n">a</span> <span class="mi">3</span>
</pre></div>
</div>
<p>Como puede verse no es muy vistoso que digamos. Sería más elegante una
representación gráfica. Pero esto es algo que no debería mezclarse con
la solución del problema. El error ha sido mezclar la interacción con el
usuario con la solución del problema. Vamos a arreglarlo. El resultado
de <code class="docutils literal"><span class="pre">hanoi</span></code> debe ser la secuencia de movimientos. Cada movimiento es un
par de números, el palo origen y el destino. Por tanto el resultado debe
ser una lista de tuplas de dos números. Para concatenar dos listas
podemos usar el método <code class="docutils literal"><span class="pre">extend</span></code> de las listas o la suma de listas, que
también concatena.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">hanoi</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">orig</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="mi">3</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Asume n número natural (&gt; 0),</span>
<span class="sd">    orig número de palo origen, orig in (1,2,3),</span>
<span class="sd">    dest número de palo destino, dest in (1,2,3).</span>
<span class="sd">    Imprime los movimientos a realizar para mover n discos</span>
<span class="sd">    desde el palo orig al palo dest.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">if</span> <span class="n">n</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">[]</span>
    <span class="n">libre</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">(</span><span class="n">orig</span><span class="p">,</span><span class="n">dest</span><span class="p">)][</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">hanoi</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">orig</span><span class="p">,</span> <span class="n">libre</span><span class="p">)</span> \
            <span class="o">+</span> <span class="p">[(</span><span class="n">orig</span><span class="p">,</span> <span class="n">dest</span><span class="p">)]</span> \
            <span class="o">+</span> <span class="n">hanoi</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">libre</span><span class="p">,</span> <span class="n">dest</span><span class="p">)</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">hanoi</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)]</span>
</pre></div>
</div>
<p>Y si queremos volver a tener la misma salida:</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">hanoi</span><span class="p">(</span><span class="mi">4</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;De </span><span class="si">{}</span><span class="s1"> a </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">m</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">m</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">De</span> <span class="mi">1</span> <span class="n">a</span> <span class="mi">2</span>
<span class="n">De</span> <span class="mi">1</span> <span class="n">a</span> <span class="mi">3</span>
<span class="n">De</span> <span class="mi">2</span> <span class="n">a</span> <span class="mi">3</span>
<span class="n">De</span> <span class="mi">1</span> <span class="n">a</span> <span class="mi">2</span>
<span class="n">De</span> <span class="mi">3</span> <span class="n">a</span> <span class="mi">1</span>
<span class="n">De</span> <span class="mi">3</span> <span class="n">a</span> <span class="mi">2</span>
<span class="n">De</span> <span class="mi">1</span> <span class="n">a</span> <span class="mi">2</span>
<span class="n">De</span> <span class="mi">1</span> <span class="n">a</span> <span class="mi">3</span>
<span class="n">De</span> <span class="mi">2</span> <span class="n">a</span> <span class="mi">3</span>
<span class="n">De</span> <span class="mi">2</span> <span class="n">a</span> <span class="mi">1</span>
<span class="n">De</span> <span class="mi">3</span> <span class="n">a</span> <span class="mi">1</span>
<span class="n">De</span> <span class="mi">2</span> <span class="n">a</span> <span class="mi">3</span>
<span class="n">De</span> <span class="mi">1</span> <span class="n">a</span> <span class="mi">2</span>
<span class="n">De</span> <span class="mi">1</span> <span class="n">a</span> <span class="mi">3</span>
<span class="n">De</span> <span class="mi">2</span> <span class="n">a</span> <span class="mi">3</span>
</pre></div>
</div>
<p>Lo bueno es que ahora podemos preparar otra visualización más vistosa
sin tocar el algoritmo.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="o">%</span><span class="n">matplotlib</span> <span class="n">inline</span>
<span class="kn">from</span> <span class="nn">IPython.display</span> <span class="k">import</span> <span class="n">HTML</span><span class="p">,</span> <span class="n">display</span>
<span class="kn">from</span> <span class="nn">IPython.html.widgets.interaction</span> <span class="k">import</span> <span class="n">interact</span>

<span class="k">def</span> <span class="nf">mostrar_torres</span><span class="p">(</span><span class="n">ndiscos</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">paso</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Asume ndiscos entero positivo (&gt; 0)</span>
<span class="sd">       paso entero positivo (&gt;= 0).</span>
<span class="sd">       Muestra un SVG que represemta el estado de las</span>
<span class="sd">       torres en esta situación.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">t</span> <span class="o">=</span> <span class="p">[</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">ndiscos</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">)),[],[]]</span>
    <span class="n">mov</span> <span class="o">=</span> <span class="n">hanoi</span><span class="p">(</span><span class="n">ndiscos</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="n">paso</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">mov</span><span class="p">))):</span>
        <span class="n">mover</span><span class="p">(</span><span class="n">t</span><span class="p">,</span><span class="n">mov</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
    <span class="n">display</span><span class="p">(</span><span class="n">HTML</span><span class="p">(</span><span class="n">torres</span><span class="p">(</span><span class="n">t</span><span class="p">)))</span>

<span class="k">def</span> <span class="nf">mover</span><span class="p">(</span><span class="n">t</span><span class="p">,</span><span class="n">m</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Asume t es una lista de 3 listas. Cada lista de t</span>
<span class="sd">       contiene los discos del palo correspondiente. Cada</span>
<span class="sd">       disco se representa con su longitud.</span>
<span class="sd">       Asume m es una tupla de dos números. El palo origen</span>
<span class="sd">       y el palo destino. Los palos se numeran desde 1.</span>
<span class="sd">       Mueve el último disco según de t[m[0]] a t[m[1]].</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">orig</span><span class="p">,</span> <span class="n">dest</span> <span class="o">=</span> <span class="n">m</span>
    <span class="n">t</span><span class="p">[</span><span class="n">dest</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="n">orig</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">pop</span><span class="p">())</span>

<span class="k">def</span> <span class="nf">torres</span><span class="p">(</span><span class="n">ll</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Asume ll es una lista de 3 listas. Cada lista de t</span>
<span class="sd">       contiene los discos del palo correspondiente. Cada</span>
<span class="sd">       disco se representa con su longitud.</span>
<span class="sd">       Devuelve un SVG que representa el contenido de ll.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">return</span> <span class="s1">&#39;&lt;svg width=&quot;600&quot; height=&quot;180&quot;&gt;</span><span class="si">{}</span><span class="s1">&lt;/svg&gt;&#39;</span> \
            <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">palos</span><span class="p">(</span><span class="mi">150</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">100</span><span class="p">)]</span> <span class="o">+</span> \
                      <span class="p">[</span><span class="n">torre</span><span class="p">(</span><span class="n">ll</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">ll</span><span class="p">))]))</span>

<span class="k">def</span> <span class="nf">palos</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Asume x, w, h son enteros positivos que representan</span>
<span class="sd">       respectivamente la posición en el eje x del primer palo,</span>
<span class="sd">       el ancho y el alto.</span>
<span class="sd">       Devuelve una cadena con los elementos graficos que</span>
<span class="sd">       representan los palos y la base de las torres de Hanoi.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">return</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">rect</span><span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="n">w</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">),</span>
                    <span class="n">rect</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="o">-</span><span class="n">w</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">),</span>
                    <span class="n">rect</span><span class="p">(</span><span class="mi">3</span><span class="o">*</span><span class="n">x</span><span class="o">-</span><span class="n">w</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">),</span>
                    <span class="n">rect</span><span class="p">(</span><span class="n">x</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="o">+</span><span class="n">h</span><span class="p">,</span> <span class="mi">3</span><span class="o">*</span><span class="n">x</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="n">w</span><span class="p">)])</span>

<span class="k">def</span> <span class="nf">rect</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">w</span><span class="p">,</span><span class="n">h</span><span class="p">,</span><span class="n">style</span><span class="o">=</span><span class="s1">&#39;fill:lightgray&#39;</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Asume x, y, w, h son enteros positivos que representan</span>
<span class="sd">       respectivamente la posición en el eje x, en el eje y, el</span>
<span class="sd">       ancho y el alto.</span>
<span class="sd">       Asume style es una cadena que contiene un estilo CSS.</span>
<span class="sd">       Devuelve una cadena que representa el rectángulo de estas</span>
<span class="sd">       características.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">return</span> <span class="s1">&#39;&lt;rect x=&quot;</span><span class="si">{}</span><span class="s1">&quot; y=&quot;</span><span class="si">{}</span><span class="s1">&quot; width=&quot;</span><span class="si">{}</span><span class="s1">&quot; height=&quot;</span><span class="si">{}</span><span class="s1">&quot; style=&quot;</span><span class="si">{}</span><span class="s1">&quot; /&gt;&#39;</span> \
            <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">w</span><span class="p">,</span><span class="n">h</span><span class="p">,</span><span class="n">style</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">torre</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="n">palo</span><span class="p">,</span> <span class="n">h</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Asume l es una lista de enteros que corresponde a los anchos</span>
<span class="sd">       de los discos de una torre desde el inferior hasta el superior.</span>
<span class="sd">       Asume palo es un entero (palo in [1,2,3]).</span>
<span class="sd">       Asume h entero positivo.</span>
<span class="sd">       Devuelve una cadena con la representación gráfica de la torre</span>
<span class="sd">       correspondiente, siendo h la altura del palo.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">return</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">disco</span><span class="p">(</span><span class="n">l</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">palo</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">h</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">l</span><span class="p">))])</span>

<span class="k">def</span> <span class="nf">disco</span><span class="p">(</span><span class="n">ancho</span><span class="p">,</span> <span class="n">palo</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">h</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Asume ancho, palo, y, h enteros positivos.</span>
<span class="sd">       Asume palo in [1,2,3].</span>
<span class="sd">       Devuelve una cadena con la representación gráfica de un disco de</span>
<span class="sd">       ancho ancho, en el palo palo, en la posición y, siendo la altura</span>
<span class="sd">       del palo h.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">return</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1">&lt;rect x=&quot;</span><span class="si">{}</span><span class="s1">&quot; y=&quot;</span><span class="si">{}</span><span class="s1">&quot; rx=&quot;5&quot; ry=&quot;5&quot; width=&quot;</span><span class="si">{}</span><span class="s1">&quot; height=&quot;10&quot;</span>
<span class="s1"> style=&quot;fill:red;stroke:black&quot; /&gt;&#39;&#39;&#39;</span> \
    <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">palo</span><span class="o">*</span><span class="mi">150</span> <span class="o">-</span> <span class="n">ancho</span><span class="o">*</span><span class="mi">5</span><span class="p">,</span> <span class="n">h</span> <span class="o">-</span> <span class="mi">10</span><span class="o">*</span><span class="n">y</span><span class="p">,</span> <span class="n">ancho</span><span class="o">*</span><span class="mi">10</span><span class="p">)</span>

<span class="n">interact</span><span class="p">(</span><span class="n">mostrar_torres</span><span class="p">,</span> <span class="n">ndiscos</span><span class="o">=</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="n">paso</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">256</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
</pre></div>
</div>
<svg width="600" height="180"><rect x="147.0" y="10" width="6" height="100" style="fill:lightgray" /><rect x="297.0" y="10" width="6" height="100" style="fill:lightgray" /><rect x="447.0" y="10" width="6" height="100" style="fill:lightgray" /><rect x="75.0" y="110" width="450" height="12" style="fill:lightgray" />
<rect x="125" y="100" rx="5" ry="5" width="50" height="10"
 style="fill:red;stroke:black" />
<rect x="130" y="90" rx="5" ry="5" width="40" height="10"
 style="fill:red;stroke:black" />
<rect x="135" y="80" rx="5" ry="5" width="30" height="10"
 style="fill:red;stroke:black" />
<rect x="140" y="70" rx="5" ry="5" width="20" height="10"
 style="fill:red;stroke:black" /></svg></div>
<div class="section" id="ordenacion-merge-sort">
<h2>Ordenación: <em>Merge sort</em><a class="headerlink" href="#ordenacion-merge-sort" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Consideremos el problema de ordenar una secuencia de números.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">random</span>
<span class="n">datos</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">20</span><span class="p">))</span>
<span class="n">random</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">datos</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">datos</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">13</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
</pre></div>
</div>
<p>Podemos aplicar <em>divide y vencerás</em> de varias formas. Por ejemplo,
dividimos la lista en 2, ordenamos las 2 mitades y mezclamos las dos
listas ordenadas. Este algoritmo se lo debemos a John von Neumann.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">merge_sort</span><span class="p">(</span><span class="n">l</span><span class="p">):</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">l</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">l</span>
    <span class="n">mitad</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">l</span><span class="p">)</span><span class="o">//</span><span class="mi">2</span>
    <span class="k">return</span> <span class="n">merge</span><span class="p">(</span><span class="n">merge_sort</span><span class="p">(</span><span class="n">l</span><span class="p">[:</span><span class="n">mitad</span><span class="p">]),</span>
                 <span class="n">merge_sort</span><span class="p">(</span><span class="n">l</span><span class="p">[</span><span class="n">mitad</span><span class="p">:]))</span>

<span class="k">def</span> <span class="nf">merge</span><span class="p">(</span><span class="n">l1</span><span class="p">,</span> <span class="n">l2</span><span class="p">):</span>
    <span class="n">i</span><span class="p">,</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span>
    <span class="n">l</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">l1</span><span class="p">)</span> <span class="ow">and</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">l2</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">l1</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">l2</span><span class="p">[</span><span class="n">j</span><span class="p">]:</span>
            <span class="n">l</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">l1</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">l</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">l2</span><span class="p">[</span><span class="n">j</span><span class="p">])</span>
            <span class="n">j</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">return</span> <span class="n">l</span> <span class="o">+</span> <span class="n">l1</span><span class="p">[</span><span class="n">i</span><span class="p">:]</span> <span class="o">+</span> <span class="n">l2</span><span class="p">[</span><span class="n">j</span><span class="p">:]</span>
</pre></div>
</div>
<p>Lo único complejo es la mezcla. La mezcla selecciona elementos de una
lista o de otra dependiendo de cuál tiene el menor. Cuando una lista se
acaba la mezcla debe incluir el resto de la otra. Tal vez sea más fácil
de entender la función <code class="docutils literal"><span class="pre">merge</span></code> si usamos divide y vencerás para
describirla.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">merge</span><span class="p">(</span><span class="n">l1</span><span class="p">,</span> <span class="n">l2</span><span class="p">):</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">l1</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">l2</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">l2</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">l1</span>
    <span class="k">if</span> <span class="n">l1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">l2</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">l1</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">+</span> <span class="n">merge</span><span class="p">(</span><span class="n">l1</span><span class="p">[</span><span class="mi">1</span><span class="p">:],</span> <span class="n">l2</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">l2</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">+</span> <span class="n">merge</span><span class="p">(</span><span class="n">l1</span><span class="p">,</span> <span class="n">l2</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">merge_sort</span><span class="p">(</span><span class="n">datos</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">19</span><span class="p">]</span>
</pre></div>
</div>
<p>Una característica interesante de este algoritmo es que es fácil de
adaptar al caso en el que no disponemos de memoria suficiente para
ordenar todos los elementos (por ejemplo, cuando los datos están en una
base de datos). Sin embargo se trata de un algoritmo que consume
bastante memoria, porque se copian los elementos para formar las listas
ordenadas.</p>
</div>
<div class="section" id="ordenacion-quicksort">
<h2>Ordenación: <em>Quicksort</em><a class="headerlink" href="#ordenacion-quicksort" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Otra forma de aplicar la estrategia de <em>divide y vencerás</em> es el
algoritmo Quicksort de C. A. R. Hoare. El método consiste en seleccionar
un elemento denominado <em>pivote</em>. Todos los elementos menores o iguales
al pivote se ponen a un lado y todos los mayores o iguales se ponen a
otro lado. Al acabar tenemos dos grupos de números que volvemos a
ordenar utilizando el mismo algoritmo. Lo bueno de este algoritmo es que
puede usarse <em>in-place</em> para reducir el consumo de memoria.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">qsort</span><span class="p">(</span><span class="n">l</span><span class="p">):</span>
    <span class="n">qsort_segmento</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">l</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">qsort_segmento</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="n">primero</span><span class="p">,</span> <span class="n">ultimo</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">ultimo</span> <span class="o">-</span> <span class="n">primero</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
        <span class="k">return</span>
    <span class="n">div</span> <span class="o">=</span> <span class="n">clasifica</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="n">primero</span><span class="p">,</span> <span class="n">ultimo</span><span class="p">)</span>
    <span class="n">qsort_segmento</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="n">primero</span><span class="p">,</span> <span class="n">div</span><span class="p">)</span>
    <span class="n">qsort_segmento</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="n">div</span><span class="p">,</span> <span class="n">ultimo</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">clasifica</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="n">primero</span><span class="p">,</span> <span class="n">ultimo</span><span class="p">):</span>
    <span class="n">pivote</span> <span class="o">=</span> <span class="p">(</span><span class="n">primero</span> <span class="o">+</span> <span class="n">ultimo</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
    <span class="n">l</span><span class="p">[</span><span class="n">primero</span><span class="p">],</span> <span class="n">l</span><span class="p">[</span><span class="n">pivote</span><span class="p">]</span> <span class="o">=</span> <span class="n">l</span><span class="p">[</span><span class="n">pivote</span><span class="p">],</span> <span class="n">l</span><span class="p">[</span><span class="n">primero</span><span class="p">]</span>
    <span class="n">div</span> <span class="o">=</span> <span class="n">primero</span> <span class="o">+</span> <span class="mi">1</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">primero</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">ultimo</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">l</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">l</span><span class="p">[</span><span class="n">primero</span><span class="p">]:</span>
            <span class="n">l</span><span class="p">[</span><span class="n">div</span><span class="p">],</span> <span class="n">l</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">l</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">l</span><span class="p">[</span><span class="n">div</span><span class="p">]</span>
            <span class="n">div</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">return</span> <span class="n">div</span>
</pre></div>
</div>
<p>La parte más difícil es clasificar con respecto al pivote. Nosotros
seleccionamos el elemento del medio como pivote (para no perjudicar a
las listas ya ordenadas). Ese elemento lo situamos como primero del
segmento a ordenar y el resto lo vamos pegando a él si es menor o igual
o lo dejamos si es mayor. Puede que te preguntes por qué se mueve el
pivote como primer elemento. Se hace para evitar casos desafortunados en
que el pivote es el mayor elemento del segmento. Si no se moviera
llamaríamos indefinidamente a la función de ordenación con el mismo
segmento.</p>
<p>Solo queda probarlo.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">ordenados</span> <span class="o">=</span> <span class="n">datos</span><span class="p">[:]</span>
<span class="n">qsort</span><span class="p">(</span><span class="n">ordenados</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ordenados</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">19</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>


  
      
  <li id="relations-prev" class="navLink" title='Capítulo anterior - Listas, tuplas, conjuntos y diccionarios' data-toggle="tooltip">
    <a href="python-09.html" >
      <i class='prevNav glyphicon glyphicon-chevron-left'></i>
    </a>
  </li>
  <a class="navLinkBg" id="navLinkBgLeft"  href="python-09.html" ></a>
  
  <li id="relations-next" class="navLink" title='Capítulo siguiente - Prueba de software' data-toggle="tooltip" >
    <a href="python-12.html" >
      <i id="relationsNextIcon" class='nextNav glyphicon glyphicon-chevron-right'></i>
    </a>
  </li>
  <a class="navLinkBg navLink" id="navLinkBgRight" href="python-12.html" >Next Section - Prueba de software</a>

<script type="text/javascript">

  $('#relations-prev').tooltip({'placement':'right', 'selector': '', 'delay': { show: 100, hide: 50}});
  $('#relations-next').tooltip({'placement':'left', 'selector': '', 'delay': { show: 100, hide: 50}});
  
</script>
  
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      
      | <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2017 Francisco Moya.
    </p>
  </div>
</footer>



<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-32029811-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>



  </body>
</html>