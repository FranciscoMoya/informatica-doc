<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml" lang="es">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>9. Operaciones con listas</title>
    
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-3.0.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/codemirror.css" type="text/css" />
    <link rel="stylesheet" href="_static/activecode.css" type="text/css" />
    <link rel="stylesheet" href="_static/clickable.css" type="text/css" />
    <link rel="stylesheet" href="_static/pytutor.css" type="text/css" />
    <link rel="stylesheet" href="_static/modal-basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/datafile.css" type="text/css" />
    <link rel="stylesheet" href="_static/dragndrop.css" type="text/css" />
    <link rel="stylesheet" href="_static/fitb.css" type="text/css" />
    <link rel="stylesheet" href="_static/codemirror.css" type="text/css" />
    <link rel="stylesheet" href="_static/livecode.css" type="text/css" />
    <link rel="stylesheet" href="_static/parsons.css" type="text/css" />
    <link rel="stylesheet" href="_static/lib/prettify.css" type="text/css" />
    <link rel="stylesheet" href="_static/poll.css" type="text/css" />
    <link rel="stylesheet" href="_static/tabbedstuff.css" type="text/css" />
    <link rel="stylesheet" href="_static/video.css" type="text/css" />
    <link rel="stylesheet" href="_static/jquery-ui-1.10.3.custom.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="_static/user-highlights.css" type="text/css" />
    <link rel="stylesheet" href="_static/runestone-custom-sphinx-bootstrap.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/runestonebase.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/jquery.highlight.js"></script>
    <script type="text/javascript" src="_static/bookfuncs.js"></script>
    <script type="text/javascript" src="_static/codemirror.js"></script>
    <script type="text/javascript" src="_static/xml.js"></script>
    <script type="text/javascript" src="_static/css.js"></script>
    <script type="text/javascript" src="_static/htmlmixed.js"></script>
    <script type="text/javascript" src="_static/python.js"></script>
    <script type="text/javascript" src="_static/javascript.js"></script>
    <script type="text/javascript" src="_static/activecode.js"></script>
    <script type="text/javascript" src="_static/skulpt.min.js"></script>
    <script type="text/javascript" src="_static/skulpt-stdlib.js"></script>
    <script type="text/javascript" src="_static/clike.js"></script>
    <script type="text/javascript" src="_static/timed_activecode.js"></script>
    <script type="text/javascript" src="_static/animationbase.js"></script>
    <script type="text/javascript" src="_static/mchoice.js"></script>
    <script type="text/javascript" src="_static/timedmc.js"></script>
    <script type="text/javascript" src="_static/timed.js"></script>
    <script type="text/javascript" src="_static/clickable.js"></script>
    <script type="text/javascript" src="_static/timedclickable.js"></script>
    <script type="text/javascript" src="_static/d3.v2.min.js"></script>
    <script type="text/javascript" src="_static/jquery.ba-bbq.min.js"></script>
    <script type="text/javascript" src="_static/jquery.jsPlumb-1.3.10-all-min.js"></script>
    <script type="text/javascript" src="_static/pytutor.js"></script>
    <script type="text/javascript" src="_static/codelens.js"></script>
    <script type="text/javascript" src="_static/skulpt.min.js"></script>
    <script type="text/javascript" src="_static/skulpt-stdlib.js"></script>
    <script type="text/javascript" src="_static/datafile.js"></script>
    <script type="text/javascript" src="_static/dragndrop.js"></script>
    <script type="text/javascript" src="_static/timeddnd.js"></script>
    <script type="text/javascript" src="_static/fitb.js"></script>
    <script type="text/javascript" src="_static/timedfitb.js"></script>
    <script type="text/javascript" src="_static/livecode.js"></script>
    <script type="text/javascript" src="_static/clike.js"></script>
    <script type="text/javascript" src="_static/lib/prettify.js"></script>
    <script type="text/javascript" src="_static/lib/hammer.min.js"></script>
    <script type="text/javascript" src="_static/parsons.js"></script>
    <script type="text/javascript" src="_static/timedparsons.js"></script>
    <script type="text/javascript" src="_static/poll.js"></script>
    <script type="text/javascript" src="_static/reveal.js"></script>
    <script type="text/javascript" src="_static/shortanswer.js"></script>
    <script type="text/javascript" src="_static/timed_shortanswer.js"></script>
    <script type="text/javascript" src="_static/tabbedstuff.js"></script>
    <script type="text/javascript" src="_static/translations.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="_static/jquery-ui-1.10.3.custom.min.js"></script>
    <script type="text/javascript" src="_static/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.0.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <script type="text/javascript" src="_static/waypoints.min.js"></script>
    <script type="text/javascript" src="_static/rangy-core.js"></script>
    <script type="text/javascript" src="_static/rangy-textrange.js"></script>
    <script type="text/javascript" src="_static/rangy-cssclassapplier.js"></script>
    <script type="text/javascript" src="_static/user-highlights.js"></script>
    <script type="text/javascript" src="_static/jquery.idle-timer.js"></script>
    <script type="text/javascript" src="_static/processing-1.4.1.min.js"></script>
    <script type="text/javascript" src="_static/jquery.hotkey.js"></script>
    <script type="text/javascript" src="_static/jquery-migrate-1.2.1.min.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="author" title="Sobre este documento" href="about.html" />
    <link rel="index" title="Índice" href="genindex.html" />
    <link rel="search" title="Búsqueda" href="search.html" />
    <link rel="next" title="11. Pago de balance de tarjeta de crédito en un año" href="BisectionSearch.html" />
    <link rel="prev" title="8. Prueba y depuración de software" href="test-debug.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
<link rel="shortcut icon" href="/runestone/static/favicon.ico" type="image/ico" />

<script type="text/javascript">
  eBookConfig = {};
  eBookConfig.host = 'http://127.0.0.1:8000' ? 'http://127.0.0.1:8000' : 'http://127.0.0.1:8000';
  eBookConfig.app = eBookConfig.host+'/runestone';
  eBookConfig.ajaxURL = eBookConfig.app+'/ajax/';
  eBookConfig.course = 'CS101';
  eBookConfig.logLevel = 0;
  eBookConfig.loginRequired = false;
  eBookConfig.build_info = "py";
  eBookConfig.isLoggedIn = false;
  eBookConfig.useRunestoneServices = false;
  eBookConfig.python3 = true;
  eBookConfig.basecourse = 'informatica';
  eBookConfig.runestone_version = '2.7.15';
</script>

<div id="fb-root"></div>
<script>
  (function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s); js.id = id;
    js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&status=0";
    fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'facebook-jssdk'));
</script>



  </head>
  <body role="document">


<!-- Begin navbar -->
<div id="navbar" class="navbar navbar-default navbar-fixed-top" role="navigation">

  <div class="container">

    <div class="navbar-header">
      <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
      <button type='button' class='navbar-toggle' data-toggle="collapse" data-target=".navbar-ex1-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div>
        <a class="brand-logo" style='background: transparent url("_static/img/logo_small.png") no-repeat 0px 0px;' href="/runestone/default/user/login">&nbsp; </a>
        <a class="navbar-brand" href="index.html">Informática</a>
      </div>
    </div>

    <div class="navbar-collapse collapse navbar-ex1-collapse">

      <ul class="nav navbar-nav navbar-right">

        <li class="divider-vertical"></li>

        <!-- social media dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-share-alt" style="opacity: 0.9"></i>
          </a>
          <ul class="dropdown-menu social-menu">
              <li>
                <div>
                  <b>Runestone in social media:</b>
                </div>
                <a href="https://twitter.com/iRunestone" class="twitter-follow-button" data-show-count="true">Follow @iRunestone</a><script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
                <div class="fb-like" data-href="https://www.facebook.com/RunestoneInteractive" data-send="false" data-layout="button_count" data-width="300" data-show-faces="false" data-font="arial"></div>
              </li>

              <li class="divider"></li>
              <li>
                <div>
                  <b>Help support us:</b>
                </div>
                <div>
                    <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
                  <input type="hidden" name="cmd" value="_s-xclick">
                  <input type="hidden" name="encrypted" value="-----BEGIN PKCS7-----MIIHNwYJKoZIhvcNAQcEoIIHKDCCByQCAQExggEwMIIBLAIBADCBlDCBjjELMAkGA1UEBhMCVVMxCzAJBgNVBAgTAkNBMRYwFAYDVQQHEw1Nb3VudGFpbiBWaWV3MRQwEgYDVQQKEwtQYXlQYWwgSW5jLjETMBEGA1UECxQKbGl2ZV9jZXJ0czERMA8GA1UEAxQIbGl2ZV9hcGkxHDAaBgkqhkiG9w0BCQEWDXJlQHBheXBhbC5jb20CAQAwDQYJKoZIhvcNAQEBBQAEgYAcrkqh1hn3lYqIpfXxNqe1T82EhXzCJGy1yMAmklpyZshyMkfDGe1Bhx+iwyGeoYRTTyphFmP+9M3NyO0+Q5XdHxgZPx/zYjjBxlZHgEV6jhE8bN2fHkkPf0VHfz0a0QQylQOPlKiOTZV7B37Jpk6yM47oVZ1tG/KNm0NkfmB76DELMAkGBSsOAwIaBQAwgbQGCSqGSIb3DQEHATAUBggqhkiG9w0DBwQIi0GmFfOlcjuAgZBbYOo9UO+CpMQa+PYqwsUmUnJvXIImeMeNI3KVTUx5Cfk9gNMo3WzPeiB5IqZo9nRAQ0mf1qL2ecLeB5tidM+lgBUhOxfj3/FecpnVFa0263gp4g+PLw8jzhvVRdUon1K3SeO1Rzh23fIRKwnrD6btt73uwtj0sl3tGd8qz+6GIcwPDdRk9VcUffiBJT/ZagKgggOHMIIDgzCCAuygAwIBAgIBADANBgkqhkiG9w0BAQUFADCBjjELMAkGA1UEBhMCVVMxCzAJBgNVBAgTAkNBMRYwFAYDVQQHEw1Nb3VudGFpbiBWaWV3MRQwEgYDVQQKEwtQYXlQYWwgSW5jLjETMBEGA1UECxQKbGl2ZV9jZXJ0czERMA8GA1UEAxQIbGl2ZV9hcGkxHDAaBgkqhkiG9w0BCQEWDXJlQHBheXBhbC5jb20wHhcNMDQwMjEzMTAxMzE1WhcNMzUwMjEzMTAxMzE1WjCBjjELMAkGA1UEBhMCVVMxCzAJBgNVBAgTAkNBMRYwFAYDVQQHEw1Nb3VudGFpbiBWaWV3MRQwEgYDVQQKEwtQYXlQYWwgSW5jLjETMBEGA1UECxQKbGl2ZV9jZXJ0czERMA8GA1UEAxQIbGl2ZV9hcGkxHDAaBgkqhkiG9w0BCQEWDXJlQHBheXBhbC5jb20wgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAMFHTt38RMxLXJyO2SmS+Ndl72T7oKJ4u4uw+6awntALWh03PewmIJuzbALScsTS4sZoS1fKciBGoh11gIfHzylvkdNe/hJl66/RGqrj5rFb08sAABNTzDTiqqNpJeBsYs/c2aiGozptX2RlnBktH+SUNpAajW724Nv2Wvhif6sFAgMBAAGjge4wgeswHQYDVR0OBBYEFJaffLvGbxe9WT9S1wob7BDWZJRrMIG7BgNVHSMEgbMwgbCAFJaffLvGbxe9WT9S1wob7BDWZJRroYGUpIGRMIGOMQswCQYDVQQGEwJVUzELMAkGA1UECBMCQ0ExFjAUBgNVBAcTDU1vdW50YWluIFZpZXcxFDASBgNVBAoTC1BheVBhbCBJbmMuMRMwEQYDVQQLFApsaXZlX2NlcnRzMREwDwYDVQQDFAhsaXZlX2FwaTEcMBoGCSqGSIb3DQEJARYNcmVAcGF5cGFsLmNvbYIBADAMBgNVHRMEBTADAQH/MA0GCSqGSIb3DQEBBQUAA4GBAIFfOlaagFrl71+jq6OKidbWFSE+Q4FqROvdgIONth+8kSK//Y/4ihuE4Ymvzn5ceE3S/iBSQQMjyvb+s2TWbQYDwcp129OPIbD9epdr4tJOUNiSojw7BHwYRiPh58S1xGlFgHFXwrEBb3dgNbMUa+u4qectsMAXpVHnD9wIyfmHMYIBmjCCAZYCAQEwgZQwgY4xCzAJBgNVBAYTAlVTMQswCQYDVQQIEwJDQTEWMBQGA1UEBxMNTW91bnRhaW4gVmlldzEUMBIGA1UEChMLUGF5UGFsIEluYy4xEzARBgNVBAsUCmxpdmVfY2VydHMxETAPBgNVBAMUCGxpdmVfYXBpMRwwGgYJKoZIhvcNAQkBFg1yZUBwYXlwYWwuY29tAgEAMAkGBSsOAwIaBQCgXTAYBgkqhkiG9w0BCQMxCwYJKoZIhvcNAQcBMBwGCSqGSIb3DQEJBTEPFw0xMzExMDMxMzQxMzFaMCMGCSqGSIb3DQEJBDEWBBRDJF8w+zsMr7FSk+pwinB5f5D4rzANBgkqhkiG9w0BAQEFAASBgHw1LMHpkpaqHIvDGdFE0eG+2mZlmMnUeDCBhQlbc7QMzFQYKTV94NfaebBO4PmNdADe1rq4WidSRZZbE7CzkX9IGENYnBTWY0hb2l0lGdGrJdGeWyV3ekg9WVaFMMumrekds96h3Cx7dGz2kWDzIai2iEXE/qoE+xpkyXAYZNV3-----END PKCS7-----
                  ">
                  <input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_SM.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
                  <img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
                  </form>

                </div>
              </li>
          </ul>
        </li>
        <!-- end social media dropdown -->

        <li class="divider-vertical"></li>

        <!-- search dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-search" style='opacity:0.9;'></i>
          </a>
          <ul class='dropdown-menu'>
            
                <li><a href='index.html'>Table of Contents</a></li>
            
            <li><a href='/runestone/static/CS101/genindex.html'>Book Index</a></li>
            <li class="divider"></li>
            <li id="scratch_ac_link"><a href="javascript:ACFactory.toggleScratchActivecode()">Scratch ActiveCode</a></li>
            <li class="divider"></li>
            <li style="width: 240px;">
              <form class="navbar-search" style="margin:10px;" action="search.html" method="get">
                <div class="input-group">
                  <input type="text" class="form-control" name="q" placeholder="Search this book" />
                  <span class="input-group-btn">
                    <button class="btn btn-primary" style="margin:0;" type="submit">
                      <i class="glyphicon glyphicon-search"></i>
                    </button>
                  </span>
                </div><!-- /input-group -->
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
            </li>
          </ul>
        </li>
        <!-- end search dropdown -->

        <li class="divider-vertical"></li>

        
        <li class="divider-vertical"></li>

        <!-- help menu dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-question-sign" style="opacity:0.9;"></i>
          </a>
          <ul class="dropdown-menu user-menu">
            <li><a href='/runestone/static/CS101/navhelp.html'>Navigation Help</a></li>
            <li><a href='/runestone/static/overview/instructor.html'>Help for Instructors</a></li>
            <li class="divider"></li>
            <li><a href='http://runestoneinteractive.org'>About Runestone</a></li>
            <li><a href='/runestone/default/reportabug?course=CS101&page=python-14'>Report A Problem</a></li>
          </ul>
        </li>
        <!-- end help menu dropdown -->

        <li class="divider-vertical"></li>

      </ul>

      <ul class="nav navbar-nav">
        <li class="divider-vertical"></li>
        <!--
          <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"><ul>
<li><a class="reference internal" href="#">9. Operaciones con listas</a><ul>
<li><a class="reference internal" href="#subconjunto-de-una-lista">9.1. Subconjunto de una lista</a></li>
<li><a class="reference internal" href="#interseccion-de-listas">9.2. Intersección de listas</a></li>
<li><a class="reference internal" href="#powerset">9.3. <em>Powerset</em></a></li>
</ul>
</li>
<li><a class="reference internal" href="#operaciones-con-bits">10. Operaciones con bits</a><ul>
<li><a class="reference internal" href="#sistemas-de-numeracion-posicionales">10.1. Sistemas de numeración posicionales</a></li>
<li><a class="reference internal" href="#conversiones-de-base">10.2. Conversiones de base</a></li>
<li><a class="reference internal" href="#numeros-con-signo">10.3. Números con signo</a><ul>
<li><a class="reference internal" href="#signo-magnitud">10.3.1. Signo-magnitud</a></li>
<li><a class="reference internal" href="#complemento-a-1">10.3.2. Complemento a 1</a></li>
<li><a class="reference internal" href="#complemento-a-2">10.3.3. Complemento a 2</a></li>
</ul>
</li>
<li><a class="reference internal" href="#operadores-de-bits">10.4. Operadores de bits</a></li>
<li><a class="reference internal" href="#seleccionar-bits-de-un-numero">10.5. Seleccionar bits de un número</a></li>
</ul>
</li>
</ul>
</ul>
</li>
          <li class="divider-vertical"></li>
        
        
          
  <li id="relations-prev" title="Previous Chapter - 8. Prueba y depuración de software" data-toggle="tooltip">
    <a href="test-debug.html" >
      <i class='glyphicon glyphicon-backward' style='opacity:0.9;'></i>
    </a>
  </li>
  
  <li id="relations-next" title='Next Chapter - 11. Pago de balance de tarjeta de crédito en un año' data-toggle="tooltip" >
    <a href="BisectionSearch.html" >
      <i class='glyphicon glyphicon-forward' style='opacity:0.9;'></i>
    </a>
  </li>
  <li class="divider-vertical"></li>

<script type="text/javascript">
  opts = {'placement':'bottom',
          'selector': '',
          'delay': { show: 100, hide: 50}
         };

  $('#relations-prev').tooltip(opts);
  $('#relations-next').tooltip(opts);
</script>
        -->
        
          <li>
  <a href="_sources/python-14.rst.txt"
     rel="nofollow">Source</a></li>
        
      </ul>

    </div>
  </div>
</div>


<div class="container" id="continue-reading"></div>

<div class="container" id="main-content">
  
  <div class="section" id="operaciones-con-listas">
<h1>9. Operaciones con listas<a class="headerlink" href="#operaciones-con-listas" title="Enlazar permanentemente con este título">¶</a></h1>
<p>En este cuaderno veremos una serie de operaciones con listas que
resultan muy útiles en muchos contextos.</p>
<div class="section" id="subconjunto-de-una-lista">
<h2>9.1. Subconjunto de una lista<a class="headerlink" href="#subconjunto-de-una-lista" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Dadas dos listas <code class="docutils literal"><span class="pre">L1</span></code> y <code class="docutils literal"><span class="pre">L2</span></code> se trata de comprobar si <code class="docutils literal"><span class="pre">L1</span></code> es un
subconjunto de la lista <code class="docutils literal"><span class="pre">L2</span></code>.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">esSubconjunto</span><span class="p">(</span><span class="n">L1</span><span class="p">,</span> <span class="n">L2</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Asume L1, L2 listas</span>
<span class="sd">       Devuelve True si todos los elementos de L1 están en L2</span>
<span class="sd">       y False en caso contrario&#39;&#39;&#39;</span>
    <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">L1</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">L2</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="kc">True</span>

<span class="nb">print</span><span class="p">(</span><span class="n">esSubconjunto</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">],</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">esSubconjunto</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">17</span><span class="p">],</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)))</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kc">True</span>
<span class="kc">False</span>
</pre></div>
</div>
</div>
<div class="section" id="interseccion-de-listas">
<h2>9.2. Intersección de listas<a class="headerlink" href="#interseccion-de-listas" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Dadas dos listas <code class="docutils literal"><span class="pre">L1</span></code> y <code class="docutils literal"><span class="pre">L2</span></code> se trata de determinar la lista de los
elementos que están en las dos listas.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">interseccion</span><span class="p">(</span><span class="n">L1</span><span class="p">,</span><span class="n">L2</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Asume L1, L2 listas</span>
<span class="sd">       Devuelve lista con elementos comunes&#39;&#39;&#39;</span>
    <span class="n">l</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">L1</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">L2</span><span class="p">:</span>
            <span class="n">l</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">l</span>

<span class="nb">print</span><span class="p">(</span><span class="n">interseccion</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">20</span><span class="p">)))</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">]</span>
</pre></div>
</div>
<p>O con <em>list comprehensions</em>.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">interseccion</span><span class="p">(</span><span class="n">L1</span><span class="p">,</span><span class="n">L2</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Asume L1, L2 listas</span>
<span class="sd">       Devuelve lista con elementos comunes&#39;&#39;&#39;</span>
    <span class="k">return</span> <span class="p">[</span> <span class="n">e</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">L1</span> <span class="k">if</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">L2</span> <span class="p">]</span>

<span class="nb">print</span><span class="p">(</span><span class="n">interseccion</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">20</span><span class="p">)))</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="powerset">
<h2>9.3. <em>Powerset</em><a class="headerlink" href="#powerset" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Dada una lista <code class="docutils literal"><span class="pre">L</span></code>, se define su <em>powerset</em> como el conjunto de todas
las posibles combinaciones de elementos que podemos hacer con los
elementos de <code class="docutils literal"><span class="pre">L</span></code>. Por ejemplo, para la lista <code class="docutils literal"><span class="pre">[1,</span> <span class="pre">2]</span></code> su <em>powerset</em>
sería <code class="docutils literal"><span class="pre">[],</span> <span class="pre">[1],</span> <span class="pre">[2],</span> <span class="pre">[1,2]</span></code>.</p>
<p>Una posible forma de modelar el problema es asociando un bit a cada
elemento de <code class="docutils literal"><span class="pre">L</span></code>. Si el bit está a 0 significa que ese elemento no se
toma, si está a 1, significa que sí se toma. Así el ejemplo anterior
podría representarse por los números binarios 00, 01, 10, 11 (en decimal
0, 1, 2, 3). Es decir, todos los posibles valores de un número de 2
bits. Y todos los valores posibles de números de <em>n</em> bits son
<code class="docutils literal"><span class="pre">range(2**n)</span></code>.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">genPowerset</span><span class="p">(</span><span class="n">L</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Asume L una lista</span>
<span class="sd">       Devuelve una lista de listas con todas las posibles</span>
<span class="sd">       combinaciones de los elementos de L&#39;&#39;&#39;</span>
    <span class="n">powerset</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="o">**</span><span class="nb">len</span><span class="p">(</span><span class="n">L</span><span class="p">)):</span>
        <span class="n">subset</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">L</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">isBitSet</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">):</span>
                <span class="n">subset</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">L</span><span class="p">[</span><span class="n">j</span><span class="p">])</span>
        <span class="n">powerset</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">subset</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">powerset</span>
</pre></div>
</div>
<p>Ya solo queda la función <code class="docutils literal"><span class="pre">isBitSet(n,</span> <span class="pre">bit)</span></code>, que determina si
determinado bit está a 0 o a 1 en un número <code class="docutils literal"><span class="pre">n</span></code>. Para ello podemos
crear un número que solo tiene el bit deseado a 1 (<code class="docutils literal"><span class="pre">1&lt;&lt;bit</span></code>) y hacer
una operación <em>and</em> bit a bit con <code class="docutils literal"><span class="pre">n</span></code>. El resultado será 0 si el bit
es 0 o bien <code class="docutils literal"><span class="pre">1&lt;&lt;bit</span></code> si el bit es 1.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">isBitSet</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">bit</span><span class="p">):</span>
    <span class="k">return</span> <span class="mi">0</span> <span class="o">!=</span> <span class="n">n</span> <span class="o">&amp;</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">bit</span><span class="p">)</span>
</pre></div>
</div>
<p>Si te resulta complicado el uso de las operaciones de bits lee en
detalle la segunda parte de este documento.</p>
</div>
</div>
<div class="section" id="operaciones-con-bits">
<h1>10. Operaciones con bits<a class="headerlink" href="#operaciones-con-bits" title="Enlazar permanentemente con este título">¶</a></h1>
<p>Python ofrece una amplia variedad de características para trabajar con
los bits de un número. Vamos a ver algunas de ellas.</p>
<div class="section" id="sistemas-de-numeracion-posicionales">
<h2>10.1. Sistemas de numeración posicionales<a class="headerlink" href="#sistemas-de-numeracion-posicionales" title="Enlazar permanentemente con este título">¶</a></h2>
<p>El ordenador trabaja con números almacenados en bits. Cada bit solo
puede almacenar un 0 o un 1. Por tanto si queremos almacenar un número
más grande tenemos que guardar más de un bit. Al guardarlos de esta
forma se dice que son <em>codificados en binario</em>. Así, por ejemplo, un 2
se almacenaría como un 1 en un bit y un 0 en otro. Éstos son todos los
números que podemos representar con 2 bits:</p>
<table border="1" class="docutils">
<colgroup>
<col width="30%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Número</th>
<th class="head">En binario (2 bits)</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>0</td>
<td>00</td>
</tr>
<tr class="row-odd"><td>1</td>
<td>01</td>
</tr>
<tr class="row-even"><td>2</td>
<td>10</td>
</tr>
<tr class="row-odd"><td>3</td>
<td>11</td>
</tr>
</tbody>
</table>
<p>Es fácil calcular lo que vale cada valor representado en un conjunto de
<code class="docutils literal"><span class="pre">n</span></code> bits, siendo <span class="math">\(b_0\)</span> el valor del bit más a la derecha y
<span class="math">\(b_{n-1}\)</span> el valor del bit más a la izquierda.</p>
<p>$ v = <a href="#id1"><span class="problematic" id="id2">:raw-latex:`\sum`</span></a><a href="#id3"><span class="problematic" id="id4">:raw-latex:`\limits`</span></a>_{i=0}^{n-1} b_i
:raw-latex:<a href="#id5"><span class="problematic" id="id6">`</span></a>cdot <a href="#id7"><span class="problematic" id="id8">`</span></a>2^i $</p>
<p>Puede apreciarse que ésto es completamente análogo al valor de un número
cualquiera a partir de sus dígitos decimales <span class="math">\(d_i\)</span>:</p>
<p>$ v = <a href="#id9"><span class="problematic" id="id10">:raw-latex:`\sum`</span></a><a href="#id11"><span class="problematic" id="id12">:raw-latex:`\limits`</span></a>_{i=0}^{n-1} d_i
:raw-latex:<a href="#id13"><span class="problematic" id="id14">`</span></a>cdot <a href="#id15"><span class="problematic" id="id16">`</span></a>10^i $</p>
<p>Es decir, que la codificación binaria no es más que otra posible
representación del mismo número, pero que utiliza la base 2 en lugar de
la base 10. Cada cifra puede vales 0 o 1, en lugar de 0 a 9.</p>
<p>En ambos casos se trata de un sistema de representación posicional, y
cuando hay duda suele representarse poniendo la base como sufijo:</p>
<p>$ 1011_2 = 11_{10} $</p>
<p>Por ejemplo:</p>
<table border="1" class="docutils">
<colgroup>
<col width="29%" />
<col width="71%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Número</th>
<th class="head">En binario (8 bits)</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>0</td>
<td>00000000<span class="math">\(_2\)</span></td>
</tr>
<tr class="row-odd"><td>1</td>
<td>00000001<span class="math">\(_2\)</span></td>
</tr>
<tr class="row-even"><td>120</td>
<td>01111000<span class="math">\(_2\)</span></td>
</tr>
<tr class="row-odd"><td>215</td>
<td>11010111<span class="math">\(_2\)</span></td>
</tr>
</tbody>
</table>
<p>Las propiedades de un número binario son análogas a la de un número
decimal, pero usando la base 2 en lugar de la 10. Por ejemplo, dividir
por 2 equivale a quitar el dígito binario menos significativo,
multiplicar por 2 equivale a añadir un cero a la derecha.</p>
</div>
<div class="section" id="conversiones-de-base">
<h2>10.2. Conversiones de base<a class="headerlink" href="#conversiones-de-base" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Pasar de un número binario a su valor decimal se puede hacer
directamente con la fórmula mencionada anteriormente:</p>
<p>$ v = <a href="#id17"><span class="problematic" id="id18">:raw-latex:`\sum`</span></a><a href="#id19"><span class="problematic" id="id20">:raw-latex:`\limits`</span></a>_{i=0}^{n-1} b_i
:raw-latex:<a href="#id21"><span class="problematic" id="id22">`</span></a>cdot <a href="#id23"><span class="problematic" id="id24">`</span></a>2^i $</p>
<p>Cada dígito tiene un <em>peso</em> de <span class="math">\(2^i\)</span> y simplemente hay que sumar
los pesos de los dígitos que son 1. El peso del bit más a la derecha
(bit menos significativo) es 1, el que está inmediatemente a la
izquierda de éste es 2, el siguiente 4, el siguiente 8, etc. Por ejemplo
<span class="math">\(0101_2\)</span> sería <span class="math">\(1 + 4 = 5\)</span>. Sumamos los pesos del bit 0 o
bit menos significativo y el bit 2.</p>
<p>Pasar de un número decimal a su correspondiente representación binaria
se puede hacer dividiendo sucesivamente por 2 y tomando los restos en
orden inverso. Por ejemplo:</p>
<table border="1" class="docutils">
<colgroup>
<col width="54%" />
<col width="46%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">120</th>
<th class="head">2</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>0</td>
<td>60</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">60</th>
<th class="head">2</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>0</td>
<td>30</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">30</th>
<th class="head">2</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>0</td>
<td>15</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="55%" />
<col width="45%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">15</th>
<th class="head">2</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>1</td>
<td>7</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">7</th>
<th class="head">2</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>1</td>
<td>3</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">3</th>
<th class="head">2</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>1</td>
<td>1</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">1</th>
<th class="head">2</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>1</td>
<td>0</td>
</tr>
</tbody>
</table>
<p>Y tomando los restos en orden inverso obtenemos <span class="math">\(1111000_2\)</span>.</p>
</div>
<div class="section" id="numeros-con-signo">
<h2>10.3. Números con signo<a class="headerlink" href="#numeros-con-signo" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Recuerda que la memoria de un ordenador solo puede guardar 0 o 1 en cada
una de sus celdas elementales (bits). Entonces ¿cómo almacenamos el
signo de los números negativos? Está claro que tenemos que guardarlo
como un 0 o como un 1. Hay varias formas de hacerlo, veamos las más
frecuentes.</p>
<div class="section" id="signo-magnitud">
<h3>10.3.1. Signo-magnitud<a class="headerlink" href="#signo-magnitud" title="Enlazar permanentemente con este título">¶</a></h3>
<p>La forma más simple es reservar un bit (el más significativo
normalmente) para representar el signo. Si ese bit vale 0 el número es
positivo, si vale 1 el número es negativo. Y la magnitud corresponde al
resto de los bits, de la misma forma que vimos antes. Ésta es la forma
en la que se representan los números reales en la mayoría de los
ordenadores modernos.</p>
<table border="1" class="docutils">
<colgroup>
<col width="27%" />
<col width="73%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Número</th>
<th class="head">Signo-magnitud (8 bits)</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>0</td>
<td>00000000<span class="math">\(_2\)</span></td>
</tr>
<tr class="row-odd"><td>-1</td>
<td>10000001<span class="math">\(_2\)</span></td>
</tr>
<tr class="row-even"><td>-15</td>
<td>10001111<span class="math">\(_2\)</span></td>
</tr>
<tr class="row-odd"><td>120</td>
<td>01111000<span class="math">\(_2\)</span></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="complemento-a-1">
<h3>10.3.2. Complemento a 1<a class="headerlink" href="#complemento-a-1" title="Enlazar permanentemente con este título">¶</a></h3>
<p>La representación en complemento a 1 también tiene un bit más que
almacena el signo y también en este caso es 0 para los positivos y 1
para los negativos. Sin embargo en este caso la magnitud de los números
negativos se representan como el resultado de invertir todos los bits
del valor positivo. Esta representación no suele emplearse en los
ordenadores modernos, pero es esencial para entender la siguiente</p>
<table border="1" class="docutils">
<colgroup>
<col width="26%" />
<col width="74%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Número</th>
<th class="head">Complemento a 1 (8 bits)</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>0</td>
<td>00000000<span class="math">\(_2\)</span></td>
</tr>
<tr class="row-odd"><td>-1</td>
<td>11111110<span class="math">\(_2\)</span></td>
</tr>
<tr class="row-even"><td>-15</td>
<td>11110000<span class="math">\(_2\)</span></td>
</tr>
<tr class="row-odd"><td>120</td>
<td>01111000<span class="math">\(_2\)</span></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="complemento-a-2">
<h3>10.3.3. Complemento a 2<a class="headerlink" href="#complemento-a-2" title="Enlazar permanentemente con este título">¶</a></h3>
<p>El problema de las representaciones anteriores es que el 0 tiene dos
representaciones válidas (una con signo positivo y otra con signo
negativo). Ésto es una anomalía que dificulta las operaciones. En la
representación en complemento a 2 se utiliza una codificación que solo
tiene una representación válida del 0 (con signo positivo), y por tanto
puede representar un número negativo más.</p>
<p>Los números positivos se representan como en los dos casos anteriores,
con un bit adicional (el más significativo) que sirve para almacenar el
signo (0 para los positivos, 1 para los negativos). Sin embargo los
negativos se representan como el resultado de hacer su complemento a 1 y
posteriormente sumar 1 al resultado.</p>
<table border="1" class="docutils">
<colgroup>
<col width="26%" />
<col width="74%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Número</th>
<th class="head">Complemento a 1 (8 bits)</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>0</td>
<td>00000000<span class="math">\(_2\)</span></td>
</tr>
<tr class="row-odd"><td>-1</td>
<td>11111111<span class="math">\(_2\)</span></td>
</tr>
<tr class="row-even"><td>-15</td>
<td>11110001<span class="math">\(_2\)</span></td>
</tr>
<tr class="row-odd"><td>120</td>
<td>01111000<span class="math">\(_2\)</span></td>
</tr>
</tbody>
</table>
<p>Lo interesante de esta representación es que la suma de números con
signo no tiene que tener en cuenta nada especial. El resultado es
directamente el que resulta del algoritmo normal que hacemos con lápiz y
papel, solo que usando base 2 en lugar de base 10. Fíjate bien en la
representación del -1, es la que corresponde al -0 en complemento a 1,
todos los bits a 1.</p>
<p>También se puede expresar con una fórmula matemática sencilla. Para un
número de <em>n</em> bits:</p>
<p>$ v = -b_{n-1}:raw-latex:<cite>cdot `2^{n-1} +
:raw-latex:</cite>sum`:raw-latex:<cite>limits</cite>_{i=0}<sup>{n-2}b_i:raw-latex:</sup>cdot <cite>2</cite>i$</p>
<p>Es decir, el valor es el mismo que en el caso de los números binarios
sin signo pero teniendo en cuenta que el peso del bit de signo es
negativo.</p>
<p>Esta representación es la que utilizan todos los ordenadores modernos
para representar los enteros con signo. Los enteros de Python se
representan en complemento a 2.</p>
</div>
</div>
<div class="section" id="operadores-de-bits">
<h2>10.4. Operadores de bits<a class="headerlink" href="#operadores-de-bits" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Para manipular bits de forma independiente en Python se utilizan una
serie de operadores que realizan operaciones lógicas bit a bit. Se
realiza la operación lógica con el bit 0 de ambos argumentos y su
resultado se representa en el bit 0 del resultado, en paralelo se
realiza la misma operación con el bit 1 de ambos argumentos y su
resultado se representa en el bit 1 del resultado, etc.</p>
<p>Además existe un par de operadores que permiten multiplicar o dividir
por 2 desplazando un bit a la derecha o a la izquierda, igual que
haríamos para multiplicar o dividir por 10 en un número expresado en
decimal.</p>
<table border="1" class="docutils">
<colgroup>
<col width="18%" />
<col width="36%" />
<col width="45%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operador</th>
<th class="head">Función</th>
<th class="head">Ejemplo</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">&amp;</span></code></td>
<td>AND de bits</td>
<td><code class="docutils literal"><span class="pre">37</span> <span class="pre">&amp;</span> <span class="pre">7</span> <span class="pre">==</span> <span class="pre">5</span></code></td>
</tr>
<tr class="row-odd"><td>|</td>
<td>OR de bits</td>
<td><code class="docutils literal"><span class="pre">37</span></code> | <code class="docutils literal"><span class="pre">7</span> <span class="pre">==</span> <span class="pre">7</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">^</span></code></td>
<td>XOR de bits</td>
<td><code class="docutils literal"><span class="pre">37</span> <span class="pre">^</span> <span class="pre">7</span> <span class="pre">==</span> <span class="pre">34</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">~</span></code></td>
<td>NOT de bits</td>
<td><code class="docutils literal"><span class="pre">~0</span> <span class="pre">==</span> <span class="pre">-1</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">&lt;&lt;</span></code></td>
<td>desplazamiento izda.</td>
<td><code class="docutils literal"><span class="pre">13</span> <span class="pre">&lt;&lt;</span> <span class="pre">4</span> <span class="pre">==</span> <span class="pre">13</span> <span class="pre">*</span> <span class="pre">2**4</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">&gt;&gt;</span></code></td>
<td>desplazamiento dcha.</td>
<td><code class="docutils literal"><span class="pre">121</span> <span class="pre">&gt;&gt;</span> <span class="pre">3</span> <span class="pre">==</span> <span class="pre">121</span> <span class="pre">/</span> <span class="pre">2**3</span></code></td>
</tr>
</tbody>
</table>
<p>Es muy habitual que el programador primerizo no sepa cuándo debe emplear
cada uno de estos operadores. Para intentar paliar el problema vamos a
dar algunos consejos generales.</p>
<p>Los operadores lógicos de bits (<code class="docutils literal"><span class="pre">&amp;</span></code>, <code class="docutils literal"><span class="pre">|</span></code> y <code class="docutils literal"><span class="pre">^</span></code>) pueden entenderse
como funciones que alteran un valor (el primer parámetro) de acuerdo a
un parámetro de ajuste (el segundo parámetro).</p>
<p>Así el operador <code class="docutils literal"><span class="pre">&amp;</span></code> (se lee <em>AND</em>) sirve para poner ceros, el operador
<code class="docutils literal"><span class="pre">|</span></code> (se lee <em>OR</em>) sirve para poner unos, y el operador <code class="docutils literal"><span class="pre">^</span></code> (se lee
XOR) sirve para invertir bits. El operador <code class="docutils literal"><span class="pre">~</span></code> (se lee <em>NOT</em>) es un
caso especial del operador <code class="docutils literal"><span class="pre">^</span></code> en el que se invierten todos los bits
(<code class="docutils literal"><span class="pre">~0</span></code> es un valor con todo unos, y <code class="docutils literal"><span class="pre">~x</span></code> equivale a <code class="docutils literal"><span class="pre">x</span> <span class="pre">^</span> <span class="pre">~0</span></code>).
Veamos algunos ejemplos.</p>
<p>Supongamos que tenemos una variable <code class="docutils literal"><span class="pre">v</span></code> con un valor arbitrario.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">v</span> <span class="o">=</span> <span class="mi">85</span>
</pre></div>
</div>
<p>En ocasiones tendremos necesidad de quedarnos solo con algunos bits y
poner el resto a cero. Por ejemplo, supongamos que queremos quedarnos
con los 4 bits menos significativos. En ese caso tendremos que <em>poner
ceros</em> en el resto de los bits de <code class="docutils literal"><span class="pre">v</span></code>, es decir, tenemos que usar un
<code class="docutils literal"><span class="pre">&amp;</span></code> con un valor que tenga a cero todos los bits que queramos poner a
cero y a uno todos los bits que queramos mantener como estaban. En
nuestro caso:</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">v</span> <span class="o">&amp;</span> <span class="mb">0b1111</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="mi">5</span>
</pre></div>
</div>
<p>Nótese que para escribir un número en binario en Python se utiliza el
prefijo <code class="docutils literal"><span class="pre">0b</span></code>. También podemos imprimir su representación binaria
usando la función <code class="docutils literal"><span class="pre">bin</span></code>.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="nb">bin</span><span class="p">(</span><span class="n">v</span><span class="p">),</span> <span class="nb">bin</span><span class="p">(</span><span class="n">v</span> <span class="o">&amp;</span> <span class="mb">0b1111</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="mb">0b1010101</span> <span class="mb">0b101</span>
</pre></div>
</div>
<p>Supongamos ahora que queremos poner a uno los tres bits menos
significativos, independientemente del valor que tenga <code class="docutils literal"><span class="pre">v</span></code> en un caso
concreto. Para <em>poner unos</em> se utiliza el operador <code class="docutils literal"><span class="pre">|</span></code> con un valor
que tenga a uno todos los bits que queremos dejar a uno, y a cero todos
los bits que no queremos que cambien.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="nb">bin</span><span class="p">(</span><span class="n">v</span><span class="p">),</span> <span class="nb">bin</span><span class="p">(</span><span class="n">v</span> <span class="o">|</span> <span class="mb">0b111</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="mb">0b1010101</span> <span class="mb">0b1010111</span>
</pre></div>
</div>
<p>Supongamos ahora que queremos invertir los bits 3 a 6, ambos incluidos.
Para invertir bits se utiliza el operador <code class="docutils literal"><span class="pre">^</span></code> con un valor que tenga a
uno todos los bits que se desean invertir, y a cero los que no se
quieren tocar.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="nb">bin</span><span class="p">(</span><span class="n">v</span><span class="p">),</span> <span class="nb">bin</span><span class="p">(</span><span class="n">v</span> <span class="o">^</span> <span class="mb">0b1111000</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="mb">0b1010101</span> <span class="mb">0b101101</span>
</pre></div>
</div>
<p>Las operaciones de desplazamiento también merecen la pena detenerse un
poco. El desplazamiento a la izquierda es añadir ceros a la derecha en
la representación binaria. Es decir, equivale a multiplicar por 2 tantas
veces como diga el segundo argumento.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="nb">bin</span><span class="p">(</span><span class="n">v</span><span class="p">),</span> <span class="nb">bin</span><span class="p">(</span><span class="n">v</span> <span class="o">&lt;&lt;</span> <span class="mi">3</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="mb">0b1010101</span> <span class="mb">0b1010101000</span>
</pre></div>
</div>
<p>El desplazamiento a la derecha es más interesante. Como cabe esperar
hace la operación complementaria al desplazamiento a la izquierda. Es
decir, divide por 2 tantas veces como diga el segundo argumento. En
números positivos es equivalente a eliminar los bits menos
significativos y rellenar con ceros a la izquierda.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="nb">bin</span><span class="p">(</span><span class="n">v</span><span class="p">),</span> <span class="nb">bin</span><span class="p">(</span><span class="n">v</span> <span class="o">&gt;&gt;</span> <span class="mi">3</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="mb">0b1010101</span> <span class="mb">0b1010</span>
</pre></div>
</div>
<p>Con números negativos en complemento a 2 la división por 2 funciona de
forma similar, con la única salvedad de que en lugar de introducir un
cero a la izquierda habría que introducir un 1 para mantener el signo
del número. Prueba con algún ejemplo para comprobarlo.</p>
<p>Lo interesante de ésto es que puede generalizarse, la operación de
desplazamiento a la derecha consiste en eliminar los bits menos
significativos y reemplazarlos por el valor del bit de signo en la
izquierda. Sin embargo si lo intentamos imprimir directamente no
encontraremos la solución esperada.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">v</span> <span class="o">=</span> <span class="o">-</span><span class="mi">52</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">bin</span><span class="p">(</span><span class="n">v</span><span class="p">),</span> <span class="nb">bin</span><span class="p">(</span><span class="n">v</span> <span class="o">&gt;&gt;</span> <span class="mi">3</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">-</span><span class="mb">0b110100</span> <span class="o">-</span><span class="mb">0b111</span>
</pre></div>
</div>
<p>El tamaño de los enteros en Python no es fijo, por lo que el bit de
signo se trata de forma especial. Sin embargo en complemento a 2 el bit
de signo se repite en todos los bits más significativos mientras el
resto del número quepa en los restantes bits. Por tanto podemos obtener
la representación seleccionando exclusivamente una cantidad razonable de
bits menos significativos. Por ejemplo, los 32 bits menos
significativos. Para seleccionar estos bits tenemos que poner ceros en
los restantes bits. Para poner ceros se usa un <em>AND</em> con un valor que
corresponda a 32 unos. Los 32 unos pueden obtenerse como <code class="docutils literal"><span class="pre">2**32</span> <span class="pre">-</span> <span class="pre">1</span></code> o
como <code class="docutils literal"><span class="pre">(1&lt;&lt;32)</span> <span class="pre">-</span> <span class="pre">1</span></code>.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">v</span> <span class="o">=</span> <span class="o">-</span><span class="mi">52</span>
<span class="n">unos</span> <span class="o">=</span> <span class="mi">2</span><span class="o">**</span><span class="mi">32</span> <span class="o">-</span> <span class="mi">1</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">bin</span><span class="p">(</span><span class="n">unos</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">bin</span><span class="p">(</span><span class="n">v</span> <span class="o">&amp;</span> <span class="n">unos</span><span class="p">),</span> <span class="nb">bin</span><span class="p">((</span><span class="n">v</span> <span class="o">&gt;&gt;</span> <span class="mi">3</span><span class="p">)</span> <span class="o">&amp;</span> <span class="n">unos</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="mb">0b11111111111111111111111111111111</span>
<span class="mb">0b11111111111111111111111111001100</span> <span class="mb">0b11111111111111111111111111111001</span>
</pre></div>
</div>
</div>
<div class="section" id="seleccionar-bits-de-un-numero">
<h2>10.5. Seleccionar bits de un número<a class="headerlink" href="#seleccionar-bits-de-un-numero" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Un ejercicio interesante es el siguiente. Hacer una función <code class="docutils literal"><span class="pre">getbits</span></code>
que extrae un rango de bits de un valor que se pasa como argumento.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">getbits</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">primero</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Asume x, primero, n enteros, primero &gt;= n - 1</span>
<span class="sd">       Devuelve n bits de x a partir de la posición primero&#39;&#39;&#39;</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">x</span> <span class="o">&gt;&gt;</span> <span class="p">(</span><span class="n">primero</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">n</span><span class="p">))</span> <span class="o">&amp;</span> <span class="o">~</span><span class="p">(</span><span class="o">~</span><span class="mi">0</span> <span class="o">&lt;&lt;</span> <span class="n">n</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="nb">bin</span><span class="p">(</span><span class="n">getbits</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">)))</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="mb">0b100</span>
</pre></div>
</div>
<p>Para ver cómo funciona nada mejor que un ejemplo. Veamos qué pasaría si
queremos 9 bits a partir del bit 18 del número <code class="docutils literal"><span class="pre">x</span></code>.</p>
<table border="1" class="docutils">
<colgroup>
<col width="5%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">31</th>
<th class="head">30</th>
<th class="head">29</th>
<th class="head">28</th>
<th class="head">27</th>
<th class="head">26</th>
<th class="head">25</th>
<th class="head">24</th>
<th class="head">23</th>
<th class="head">22</th>
<th class="head">21</th>
<th class="head">20</th>
<th class="head">19</th>
<th class="head">18</th>
<th class="head">17</th>
<th class="head">16</th>
<th class="head">15</th>
<th class="head">14</th>
<th class="head">13</th>
<th class="head">12</th>
<th class="head">11</th>
<th class="head">10</th>
<th class="head">9</th>
<th class="head">8</th>
<th class="head">7</th>
<th class="head">6</th>
<th class="head">5</th>
<th class="head">4</th>
<th class="head">3</th>
<th class="head">2</th>
<th class="head">1</th>
<th class="head">0</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><strong>s</strong></td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
<td>b</td>
<td>b</td>
<td>b</td>
<td>b</td>
<td>b</td>
<td>b</td>
<td>b</td>
<td>b</td>
<td>b</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
</tbody>
</table>
<p>El valor de <code class="docutils literal"><span class="pre">primero</span></code> sería 18, y el valor de <code class="docutils literal"><span class="pre">n</span></code> sería 9. El valor
de <code class="docutils literal"><span class="pre">x</span></code> es irrelevante para entender la función.</p>
<p>Lo primero que tenemos que hacer es desplazar <code class="docutils literal"><span class="pre">x</span></code> a la derecha de
manera que los bits que queremos se queden en los bits más bajos. Es
fácil comprobar que el número de bits a desplazar es
<code class="docutils literal"><span class="pre">primero</span> <span class="pre">-</span> <span class="pre">n</span> <span class="pre">+</span> <span class="pre">1</span></code>.</p>
<table border="1" class="docutils">
<colgroup>
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="5%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">31</th>
<th class="head">30</th>
<th class="head">29</th>
<th class="head">28</th>
<th class="head">27</th>
<th class="head">26</th>
<th class="head">25</th>
<th class="head">24</th>
<th class="head">23</th>
<th class="head">22</th>
<th class="head">21</th>
<th class="head">20</th>
<th class="head">19</th>
<th class="head">18</th>
<th class="head">17</th>
<th class="head">16</th>
<th class="head">15</th>
<th class="head">14</th>
<th class="head">13</th>
<th class="head">12</th>
<th class="head">11</th>
<th class="head">10</th>
<th class="head">9</th>
<th class="head">8</th>
<th class="head">7</th>
<th class="head">6</th>
<th class="head">5</th>
<th class="head">4</th>
<th class="head">3</th>
<th class="head">2</th>
<th class="head">1</th>
<th class="head">0</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>s</td>
<td>s</td>
<td>s</td>
<td>s</td>
<td>s</td>
<td>s</td>
<td>s</td>
<td>s</td>
<td>s</td>
<td><strong>s</strong></td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
<td>b</td>
<td>b</td>
<td>b</td>
<td>b</td>
<td>b</td>
<td>b</td>
<td>b</td>
<td>b</td>
<td>b</td>
</tr>
</tbody>
</table>
<p>A continuación hay que seleccionar los <code class="docutils literal"><span class="pre">n</span></code> bits más bajos. Es decir,
hay que poner a cero todos los bits del resultado que no sean los <code class="docutils literal"><span class="pre">n</span></code>
más bajos. Para poner ceros hay que usar el operador <code class="docutils literal"><span class="pre">&amp;</span></code> con un valor
que tiene <code class="docutils literal"><span class="pre">n</span></code> unos en los <code class="docutils literal"><span class="pre">n</span></code> bits más bajos (que son los que
queremos conservar) y a cero todos los demás.</p>
<p>Hacer un número con <code class="docutils literal"><span class="pre">n</span></code> en una expresión simple no es inmediato. Lo
más fácil es hacer un número con <code class="docutils literal"><span class="pre">n</span></code> ceros en los bits menos
significativos y unos en el resto. Eso es tan simple como <code class="docutils literal"><span class="pre">~0</span> <span class="pre">&lt;&lt;</span> <span class="pre">n</span></code>.
Ese número es justo el contrario al que queremos, así que solo tenemos
que negarlo otra vez: <code class="docutils literal"><span class="pre">~(~0</span> <span class="pre">&lt;&lt;</span> <span class="pre">n)</span></code>. Ese es el número con el que
tenemos que hacer el <em>and</em> bit a bit.</p>
<table border="1" class="docutils">
<colgroup>
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">31</th>
<th class="head">30</th>
<th class="head">29</th>
<th class="head">28</th>
<th class="head">27</th>
<th class="head">26</th>
<th class="head">25</th>
<th class="head">24</th>
<th class="head">23</th>
<th class="head">22</th>
<th class="head">21</th>
<th class="head">20</th>
<th class="head">19</th>
<th class="head">18</th>
<th class="head">17</th>
<th class="head">16</th>
<th class="head">15</th>
<th class="head">14</th>
<th class="head">13</th>
<th class="head">12</th>
<th class="head">11</th>
<th class="head">10</th>
<th class="head">9</th>
<th class="head">8</th>
<th class="head">7</th>
<th class="head">6</th>
<th class="head">5</th>
<th class="head">4</th>
<th class="head">3</th>
<th class="head">2</th>
<th class="head">1</th>
<th class="head">0</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>b</td>
<td>b</td>
<td>b</td>
<td>b</td>
<td>b</td>
<td>b</td>
<td>b</td>
<td>b</td>
<td>b</td>
</tr>
</tbody>
</table>
</div>
</div>


  
      
  <li id="relations-prev" class="navLink" title='Previous Section - 8. Prueba y depuración de software' data-toggle="tooltip">
    <a href="test-debug.html" >
      <i class='prevNav glyphicon glyphicon-chevron-left'></i>
    </a>
  </li>
  <a class="navLinkBg" id="navLinkBgLeft"  href="test-debug.html" ></a>
  
  <li id="relations-next" class="navLink" title='Next Section - 11. Pago de balance de tarjeta de crédito en un año' data-toggle="tooltip" >
    <a href="BisectionSearch.html" >
      <i id="relationsNextIcon" class='nextNav glyphicon glyphicon-chevron-right'></i>
    </a>
  </li>
  <a class="navLinkBg navLink" id="navLinkBgRight" href="BisectionSearch.html" >Next Section - 11. Pago de balance de tarjeta de crédito en un año</a>

<script type="text/javascript">

  $('#relations-prev').tooltip({'placement':'right', 'selector': '', 'delay': { show: 100, hide: 50}});
  $('#relations-next').tooltip({'placement':'left', 'selector': '', 'delay': { show: 100, hide: 50}});
  
</script>
  
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      
      | <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2017 Francisco Moya.
    </p>
  </div>
</footer>



<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-32029811-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>



  </body>
</html>