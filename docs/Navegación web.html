<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml" lang="es">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>25. Navegación web con Python</title>
    
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-3.0.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/codemirror.css" type="text/css" />
    <link rel="stylesheet" href="_static/activecode.css" type="text/css" />
    <link rel="stylesheet" href="_static/clickable.css" type="text/css" />
    <link rel="stylesheet" href="_static/pytutor.css" type="text/css" />
    <link rel="stylesheet" href="_static/modal-basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/datafile.css" type="text/css" />
    <link rel="stylesheet" href="_static/dragndrop.css" type="text/css" />
    <link rel="stylesheet" href="_static/fitb.css" type="text/css" />
    <link rel="stylesheet" href="_static/codemirror.css" type="text/css" />
    <link rel="stylesheet" href="_static/livecode.css" type="text/css" />
    <link rel="stylesheet" href="_static/parsons.css" type="text/css" />
    <link rel="stylesheet" href="_static/lib/prettify.css" type="text/css" />
    <link rel="stylesheet" href="_static/poll.css" type="text/css" />
    <link rel="stylesheet" href="_static/tabbedstuff.css" type="text/css" />
    <link rel="stylesheet" href="_static/video.css" type="text/css" />
    <link rel="stylesheet" href="_static/jquery-ui-1.10.3.custom.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="_static/user-highlights.css" type="text/css" />
    <link rel="stylesheet" href="_static/runestone-custom-sphinx-bootstrap.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/runestonebase.js"></script>
    <script type="text/javascript" src="_static/codemirror.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/jquery.highlight.js"></script>
    <script type="text/javascript" src="_static/bookfuncs.js"></script>
    <script type="text/javascript" src="_static/codemirror.js"></script>
    <script type="text/javascript" src="_static/xml.js"></script>
    <script type="text/javascript" src="_static/css.js"></script>
    <script type="text/javascript" src="_static/htmlmixed.js"></script>
    <script type="text/javascript" src="_static/python.js"></script>
    <script type="text/javascript" src="_static/javascript.js"></script>
    <script type="text/javascript" src="_static/activecode.js"></script>
    <script type="text/javascript" src="_static/skulpt.min.js"></script>
    <script type="text/javascript" src="_static/skulpt-stdlib.js"></script>
    <script type="text/javascript" src="_static/clike.js"></script>
    <script type="text/javascript" src="_static/timed_activecode.js"></script>
    <script type="text/javascript" src="_static/animationbase.js"></script>
    <script type="text/javascript" src="_static/mchoice.js"></script>
    <script type="text/javascript" src="_static/timedmc.js"></script>
    <script type="text/javascript" src="_static/timed.js"></script>
    <script type="text/javascript" src="_static/clickable.js"></script>
    <script type="text/javascript" src="_static/timedclickable.js"></script>
    <script type="text/javascript" src="_static/d3.v2.min.js"></script>
    <script type="text/javascript" src="_static/jquery.ba-bbq.min.js"></script>
    <script type="text/javascript" src="_static/jquery.jsPlumb-1.3.10-all-min.js"></script>
    <script type="text/javascript" src="_static/pytutor.js"></script>
    <script type="text/javascript" src="_static/codelens.js"></script>
    <script type="text/javascript" src="_static/skulpt.min.js"></script>
    <script type="text/javascript" src="_static/skulpt-stdlib.js"></script>
    <script type="text/javascript" src="_static/datafile.js"></script>
    <script type="text/javascript" src="_static/dragndrop.js"></script>
    <script type="text/javascript" src="_static/timeddnd.js"></script>
    <script type="text/javascript" src="_static/fitb.js"></script>
    <script type="text/javascript" src="_static/timedfitb.js"></script>
    <script type="text/javascript" src="_static/livecode.js"></script>
    <script type="text/javascript" src="_static/clike.js"></script>
    <script type="text/javascript" src="_static/lib/prettify.js"></script>
    <script type="text/javascript" src="_static/lib/hammer.min.js"></script>
    <script type="text/javascript" src="_static/parsons.js"></script>
    <script type="text/javascript" src="_static/timedparsons.js"></script>
    <script type="text/javascript" src="_static/poll.js"></script>
    <script type="text/javascript" src="_static/reveal.js"></script>
    <script type="text/javascript" src="_static/shortanswer.js"></script>
    <script type="text/javascript" src="_static/timed_shortanswer.js"></script>
    <script type="text/javascript" src="_static/tabbedstuff.js"></script>
    <script type="text/javascript" src="_static/translations.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="_static/jquery-ui-1.10.3.custom.min.js"></script>
    <script type="text/javascript" src="_static/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.0.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <script type="text/javascript" src="_static/waypoints.min.js"></script>
    <script type="text/javascript" src="_static/rangy-core.js"></script>
    <script type="text/javascript" src="_static/rangy-textrange.js"></script>
    <script type="text/javascript" src="_static/rangy-cssclassapplier.js"></script>
    <script type="text/javascript" src="_static/user-highlights.js"></script>
    <script type="text/javascript" src="_static/jquery.idle-timer.js"></script>
    <script type="text/javascript" src="_static/processing-1.4.1.min.js"></script>
    <script type="text/javascript" src="_static/jquery.hotkey.js"></script>
    <script type="text/javascript" src="_static/jquery-migrate-1.2.1.min.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="author" title="Sobre este documento" href="about.html" />
    <link rel="index" title="Índice" href="genindex.html" />
    <link rel="search" title="Búsqueda" href="search.html" />
    <link rel="next" title="26. Enumeración exhaustiva" href="Optimización.html" />
    <link rel="prev" title="24. El problema de la mochila 0-1" href="mochila01.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
<link rel="shortcut icon" href="/runestone/static/favicon.ico" type="image/ico" />

<script type="text/javascript">
  eBookConfig = {};
  eBookConfig.host = 'http://127.0.0.1:8000' ? 'http://127.0.0.1:8000' : 'http://127.0.0.1:8000';
  eBookConfig.app = eBookConfig.host+'/runestone';
  eBookConfig.ajaxURL = eBookConfig.app+'/ajax/';
  eBookConfig.course = 'CS101';
  eBookConfig.logLevel = 0;
  eBookConfig.loginRequired = false;
  eBookConfig.build_info = "unknown";
  eBookConfig.isLoggedIn = false;
  eBookConfig.useRunestoneServices = false;
  eBookConfig.python3 = true;
  eBookConfig.basecourse = 'informatica';
  eBookConfig.runestone_version = '2.7.11';
</script>

<div id="fb-root"></div>
<script>
  (function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s); js.id = id;
    js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&status=0";
    fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'facebook-jssdk'));
</script>



  </head>
  <body role="document">


<!-- Begin navbar -->
<div id="navbar" class="navbar navbar-default navbar-fixed-top" role="navigation">

  <div class="container">

    <div class="navbar-header">
      <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
      <button type='button' class='navbar-toggle' data-toggle="collapse" data-target=".navbar-ex1-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div>
        <div style='float:left;display:block;background-size:90px 40px !important;height:40px;width:90px;background:transparent url("_static/eii_small.png") no-repeat 0px 0px;'>&nbsp; </div>
        <a class="navbar-brand" href="index.html">Informática</a>
      </div>
    </div>

    <div class="navbar-collapse collapse navbar-ex1-collapse">

      <ul class="nav navbar-nav navbar-right">

        <!--<li class="divider-vertical"></li>-->
        
          <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Ir a <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"><ul>
<li><a class="reference internal" href="#">25. Navegación web con Python</a><ul>
<li><a class="reference internal" href="#conceptos-previos">25.1. Conceptos previos</a></li>
<li><a class="reference internal" href="#navegacion-con-urllib">25.2. Navegación con <code class="docutils literal"><span class="pre">urllib</span></code></a></li>
<li><a class="reference internal" href="#navegacion-con-requests">25.3. Navegación con <code class="docutils literal"><span class="pre">requests</span></code></a></li>
</ul>
</li>
</ul>
</ul>
</li>
          <!--<li class="divider-vertical"></li>-->
        
        <!--
          
  <li id="relations-prev" title="Previous Chapter - 24. El problema de la mochila 0-1" data-toggle="tooltip">
    <a href="mochila01.html" >
      <i class='glyphicon glyphicon-backward' style='opacity:0.9;'></i>
    </a>
  </li>
  
  <li id="relations-next" title='Next Chapter - 26. Enumeración exhaustiva' data-toggle="tooltip" >
    <a href="Optimización.html" >
      <i class='glyphicon glyphicon-forward' style='opacity:0.9;'></i>
    </a>
  </li>
  <li class="divider-vertical"></li>

<script type="text/javascript">
  opts = {'placement':'bottom',
          'selector': '',
          'delay': { show: 100, hide: 50}
         };

  $('#relations-prev').tooltip(opts);
  $('#relations-next').tooltip(opts);
</script>
        -->

        <li class="divider-vertical"></li>

        <!-- search dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-search" style='opacity:0.9;'></i>
          </a>
          <ul class='dropdown-menu'>
            
                <li><a href='index.html'>Índice del libro</a></li>
            
            <li><a href="genindex.html">Índice alfabético</a></li>
            <li class="divider"></li>
            <li id="scratch_ac_link"><a href="javascript:ACFactory.toggleScratchActivecode()">Código activo de prueba</a></li>
            <li class="divider"></li>
            <li style="width: 240px;">
              <form class="navbar-search" style="margin:10px;" action="search.html" method="get">
                <div class="input-group">
                  <input type="text" class="form-control" name="q" placeholder="Buscar en el libro" />
                  <span class="input-group-btn">
                    <button class="btn btn-primary" style="margin:0;" type="submit">
                      <i class="glyphicon glyphicon-search"></i>
                    </button>
                  </span>
                </div><!-- /input-group -->
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
            </li>
          </ul>
        </li>
        <!-- end search dropdown -->

        
        <li class="divider-vertical"></li>

        <!-- help menu dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-question-sign" style="opacity:0.9;"></i>
          </a>
          <ul class="dropdown-menu user-menu">
            <li><a href="_static/navhelp.html">Ayuda a la navegación</a></li>
            
            <li>
  <a href="_sources/Navegación web.rst.txt"
     rel="nofollow">Ver fuente</a></li>
            
            <li class="divider"></li>
            <li><a href='http://runestoneinteractive.org'>Acerca de Runestone</a></li>
          </ul>
        </li>
        <!-- end help menu dropdown -->

        <li class="divider-vertical"></li>

      </ul>

    </div>
  </div>
</div>


<div class="container" id="continue-reading"></div>

<div class="container" id="main-content">
  
  <div class="section" id="navegacion-web-con-python">
<h1>25. Navegación web con Python<a class="headerlink" href="#navegacion-web-con-python" title="Enlazar permanentemente con este título">¶</a></h1>
<p>El trabajo en grupo propuesto es solo una de las muchas situaciones en
tu vida en las que los datos a procesar deben extraerse de páginas web o
documentos colgados en un sitio web.</p>
<div class="section" id="conceptos-previos">
<h2>25.1. Conceptos previos<a class="headerlink" href="#conceptos-previos" title="Enlazar permanentemente con este título">¶</a></h2>
<p>La <em>World Wide Web</em> es el servicio de navegación hipertexto más
utilizado del Mundo. Lo que conocemos como páginas y servidores web, que
nuestros mayores suelen identificar con Internet no es más que un
servicio operado por millones de ordenadores en el Mundo.</p>
<ul class="simple">
<li>Se trata de un servicio con arquitectura cliente-servidor. Los
servidores alojan información en forma de páginas hipertexto (con
enlaces) o documentos (imágenes, vídeos, archivos PDF, etc.) y los
navegadores actúan como clientes de esos servidores para consultar la
información.</li>
<li>Se trata de un servicio distribuido. No existe un único servidor de
páginas. Una página de un servidor puede contener enlaces a multitud
de otras páginas alojadas en otros servidores.</li>
<li>Cada página o documento disponible en este servicio se puede acceder
a través de una dirección global conocida como URL (<em>Universal
Resource Locator</em>) que no es más que la dirección que aparece en la
parte superior del navegador.</li>
<li>Este servicio utiliza normalmente un protocolo sencillo denominado
HTTP (<em>Hiper Text Transport Protocol</em>) que se utiliza de forma
transparente por los navegadores. Por eso las URL suelen comenzar por
<code class="docutils literal"><span class="pre">http://</span></code> o <code class="docutils literal"><span class="pre">https://</span></code>. Este protocolo tiene apenas un puñado de
mensajes diferentes que generan los navegadores sin que sea necesaria
la intervención explícita del usuario.</li>
<li>Cuando un navegador obtiene una página web de un servidor emplea un
mensaje HTTP denominado <em>método GET</em>. Dada una URL, que funciona como
una especie de dirección global, permite obtener el documento al que
referencia. Cuando un navegador envía datos de un formulario a un
servidor suele emplear otro mensaje de HTTP denominado <em>método POST</em>.
Este método permite enviar información arbitraria al servidor. El
protocolo HTTP tiene otros métodos menos utilizados en la navegación
normal pero muy utilizado en los <em>servicios web</em> como son PUT, DELETE
o PATCH. Aún hay algún otro método más, pero su uso directo es mucho
más raro.</li>
</ul>
<p>Para el trabajo en grupo se requiere descargar documentos XML que tienen
una URL conocida. Por tanto se utilizaría el método GET sin más. Sin
embargo en vuestra vida profesional es muy posible que os enfrentéis a
servicios web más elaborados que requieren del uso de los demás métodos.
Vamos a empezar por lo más sencillo.</p>
</div>
<div class="section" id="navegacion-con-urllib">
<h2>25.2. Navegación con <code class="docutils literal"><span class="pre">urllib</span></code><a class="headerlink" href="#navegacion-con-urllib" title="Enlazar permanentemente con este título">¶</a></h2>
<p>La biblioteca Python estándar incluye funciones suficientes para obtener
la información de cualquier URL. La biblioteca <code class="docutils literal"><span class="pre">urllib</span></code> contiene la
función <code class="docutils literal"><span class="pre">urlopen</span></code> que abre una URL como si se tratara de un archivo
local. Lo que devuelve es un objeto que se comporta igual que un archivo
abierto en modo de lectura.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">urllib</span>
<span class="n">f</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="s1">&#39;http://www.aemet.es/xml/municipios/localidad_28013.xml&#39;</span><span class="p">)</span>

<span class="c1"># Imprime las 10 primeras líneas</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
    <span class="nb">print</span> <span class="n">f</span><span class="o">.</span><span class="n">readline</span><span class="p">(),</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span>&lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-15&quot; ?&gt;
&lt;root id=&quot;28013&quot; version=&quot;1.0&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:noNamespaceSchemaLocation=&quot;http://www.aemet.es/xsd/localidades.xsd&quot;&gt;
    &lt;origen&gt;
            &lt;productor&gt;Agencia Estatal de Meteorolog�a - AEMET. Gobierno de Espa�a&lt;/productor&gt;
            &lt;web&gt;http://www.aemet.es&lt;/web&gt;
            &lt;enlace&gt;http://www.aemet.es/es/eltiempo/prediccion/municipios/aranjuez-id28013&lt;/enlace&gt;
            &lt;language&gt;es&lt;/language&gt;
            &lt;copyright&gt;&amp;#169; AEMET. Autorizado el uso de la informaci�n y su reproducci�n citando a AEMET como autora de la misma.&lt;/copyright&gt;
            &lt;nota_legal&gt;http://www.aemet.es/es/nota_legal&lt;/nota_legal&gt;
    &lt;/origen&gt;
</pre></div>
</div>
<p>El problema es que <code class="docutils literal"><span class="pre">urllib</span></code> no se queja en absoluto si el documento no
corresponde a un recurso válido. Para poder saber si se trata de una URL
válida o inválida tenemos que usar el método <code class="docutils literal"><span class="pre">getcode</span></code> del objeto
devuelto. Ese método devuelve un entero especificado en el propio
protocolo HTTP. Un valor 200 significa que el acceso ha tenido éxito y
cualquier otro valor implica algún tipo de anomalía. Si te interesa
profundizar puedes consultar <a class="reference external" href="http://www.w3.org/Protocols/HTTP/HTRESP.html">todos los códigos
aquí</a>.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">urllib</span>

<span class="n">f</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="s1">&#39;http://www.aemet.es/xml/municipios/localidad_28013.xml&#39;</span><span class="p">)</span>
<span class="nb">print</span> <span class="n">f</span><span class="o">.</span><span class="n">getcode</span><span class="p">()</span>

<span class="n">f</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="s1">&#39;http://www.aemet.es/xml/municipios/localidad_99999.xml&#39;</span><span class="p">)</span>
<span class="nb">print</span> <span class="n">f</span><span class="o">.</span><span class="n">getcode</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="mi">200</span>
<span class="mi">404</span>
</pre></div>
</div>
<p>Con esto debería ser suficiente para poder realizar el trabajo en grupo.
De todas formas vamos a comentar brevemente alguna otra biblioteca más
flexible.</p>
</div>
<div class="section" id="navegacion-con-requests">
<h2>25.3. Navegación con <code class="docutils literal"><span class="pre">requests</span></code><a class="headerlink" href="#navegacion-con-requests" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Python 2 solo incluye <code class="docutils literal"><span class="pre">urllib</span></code> y <code class="docutils literal"><span class="pre">httplib</span></code> en la biblioteca estándar
para tratar con contenidos web. Ambas bibliotecas son francamente
incómodas para realizar aplicaciones modernas basadas en la <em>World Wide
Web</em>. Por eso han surgido multitud de alternativas que facilitan el
trabajo. Una de las más populares es
<code class="docutils literal"><span class="pre">`requests</span></code> &lt;<a class="reference external" href="http://requests.readthedocs.org/en/latest/">http://requests.readthedocs.org/en/latest/</a>&gt;`__, una
biblioteca que se incluye en la mayoría de las distribuciones de Python.</p>
<p>El funcionamiento para la descarga de documentos es bastante similar,
salvo que usamos explicitamente el método <code class="docutils literal"><span class="pre">get</span></code> y el resultado no es
un archivo, sino un objeto con métodos y atributos específicos.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;http://www.aemet.es/xml/municipios/localidad_28013.xml&#39;</span><span class="p">)</span>
<span class="c1"># Si r.status_code in range(200,300) entonces r.text es el documento</span>
<span class="n">doc</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">text</span>
<span class="nb">print</span> <span class="n">r</span><span class="o">.</span><span class="n">status_code</span>
<span class="c1"># Imprimir las 5 primeras líneas</span>
<span class="nb">print</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">doc</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)[:</span><span class="mi">5</span><span class="p">])</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span>200
&lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-15&quot; ?&gt;
&lt;root id=&quot;28013&quot; version=&quot;1.0&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:noNamespaceSchemaLocation=&quot;http://www.aemet.es/xsd/localidades.xsd&quot;&gt;
    &lt;origen&gt;
            &lt;productor&gt;Agencia Estatal de Meteorología - AEMET. Gobierno de Espańa&lt;/productor&gt;
            &lt;web&gt;http://www.aemet.es&lt;/web&gt;
</pre></div>
</div>
<p>Una característica interesante es que podemos elevar una excepción
<code class="docutils literal"><span class="pre">HTTPError</span></code> automáticamente si el código de estado no es 2xx. Esto
simplifica notablemente el tratamiento de errores.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;http://www.aemet.es/xml/municipios/localidad_99999.xml&#39;</span><span class="p">)</span>
<span class="n">r</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">---------------------------------------------------------------------------</span>
<span class="n">HTTPError</span>                                 <span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">)</span>

<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">2</span><span class="o">-</span><span class="mi">676</span><span class="n">cd40ee8e5</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span><span class="p">()</span>
      <span class="mi">1</span> <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;http://www.aemet.es/xml/municipios/localidad_99999.xml&#39;</span><span class="p">)</span>
<span class="o">----&gt;</span> <span class="mi">2</span> <span class="n">r</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>


<span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python2</span><span class="o">.</span><span class="mi">7</span><span class="o">/</span><span class="n">dist</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">requests</span><span class="o">/</span><span class="n">models</span><span class="o">.</span><span class="n">pyc</span> <span class="ow">in</span> <span class="n">raise_for_status</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
    <span class="mi">835</span>
    <span class="mi">836</span>         <span class="k">if</span> <span class="n">http_error_msg</span><span class="p">:</span>
<span class="o">--&gt;</span> <span class="mi">837</span>             <span class="k">raise</span> <span class="n">HTTPError</span><span class="p">(</span><span class="n">http_error_msg</span><span class="p">,</span> <span class="n">response</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>
    <span class="mi">838</span>
    <span class="mi">839</span>     <span class="k">def</span> <span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>


<span class="n">HTTPError</span><span class="p">:</span> <span class="mi">404</span> <span class="n">Client</span> <span class="n">Error</span><span class="p">:</span> <span class="n">Not</span> <span class="n">Found</span> <span class="k">for</span> <span class="n">url</span><span class="p">:</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">www</span><span class="o">.</span><span class="n">aemet</span><span class="o">.</span><span class="n">es</span><span class="o">/</span><span class="n">xml</span><span class="o">/</span><span class="n">municipios</span><span class="o">/</span><span class="n">localidad_99999</span><span class="o">.</span><span class="n">xml</span>
</pre></div>
</div>
</div>
</div>


  
      
  <li id="relations-prev" class="navLink" title='Capítulo anterior - 24. El problema de la mochila 0-1' data-toggle="tooltip">
    <a href="mochila01.html" >
      <i class='prevNav glyphicon glyphicon-chevron-left'></i>
    </a>
  </li>
  <a class="navLinkBg" id="navLinkBgLeft"  href="mochila01.html" ></a>
  
  <li id="relations-next" class="navLink" title='Capítulo siguiente - 26. Enumeración exhaustiva' data-toggle="tooltip" >
    <a href="Optimización.html" >
      <i id="relationsNextIcon" class='nextNav glyphicon glyphicon-chevron-right'></i>
    </a>
  </li>
  <a class="navLinkBg navLink" id="navLinkBgRight" href="Optimización.html" >Next Section - 26. Enumeración exhaustiva</a>

<script type="text/javascript">

  $('#relations-prev').tooltip({'placement':'right', 'selector': '', 'delay': { show: 100, hide: 50}});
  $('#relations-next').tooltip({'placement':'left', 'selector': '', 'delay': { show: 100, hide: 50}});
  
</script>
  
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      
      | <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2017 Francisco Moya.
    </p>
  </div>
</footer>



<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-32029811-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>



  </body>
</html>