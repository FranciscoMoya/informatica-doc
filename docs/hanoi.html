<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml" lang="es">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>20. Torres de Hanoi</title>
    
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-3.0.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/codemirror.css" type="text/css" />
    <link rel="stylesheet" href="_static/livecode.css" type="text/css" />
    <link rel="stylesheet" href="_static/fitb.css" type="text/css" />
    <link rel="stylesheet" href="_static/poll.css" type="text/css" />
    <link rel="stylesheet" href="_static/tabbedstuff.css" type="text/css" />
    <link rel="stylesheet" href="_static/video.css" type="text/css" />
    <link rel="stylesheet" href="_static/dragndrop.css" type="text/css" />
    <link rel="stylesheet" href="_static/datafile.css" type="text/css" />
    <link rel="stylesheet" href="_static/clickable.css" type="text/css" />
    <link rel="stylesheet" href="_static/parsons.css" type="text/css" />
    <link rel="stylesheet" href="_static/lib/prettify.css" type="text/css" />
    <link rel="stylesheet" href="_static/codemirror.css" type="text/css" />
    <link rel="stylesheet" href="_static/activecode.css" type="text/css" />
    <link rel="stylesheet" href="_static/pytutor.css" type="text/css" />
    <link rel="stylesheet" href="_static/modal-basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/jquery-ui-1.10.3.custom.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="_static/user-highlights.css" type="text/css" />
    <link rel="stylesheet" href="_static/runestone-custom-sphinx-bootstrap.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/runestonebase.js"></script>
    <script type="text/javascript" src="_static/codemirror.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/livecode.js"></script>
    <script type="text/javascript" src="_static/clike.js"></script>
    <script type="text/javascript" src="_static/animationbase.js"></script>
    <script type="text/javascript" src="_static/fitb.js"></script>
    <script type="text/javascript" src="_static/timedfitb.js"></script>
    <script type="text/javascript" src="_static/poll.js"></script>
    <script type="text/javascript" src="_static/shortanswer.js"></script>
    <script type="text/javascript" src="_static/timed_shortanswer.js"></script>
    <script type="text/javascript" src="_static/tabbedstuff.js"></script>
    <script type="text/javascript" src="_static/dragndrop.js"></script>
    <script type="text/javascript" src="_static/timeddnd.js"></script>
    <script type="text/javascript" src="_static/skulpt.min.js"></script>
    <script type="text/javascript" src="_static/skulpt-stdlib.js"></script>
    <script type="text/javascript" src="_static/datafile.js"></script>
    <script type="text/javascript" src="_static/mchoice.js"></script>
    <script type="text/javascript" src="_static/timedmc.js"></script>
    <script type="text/javascript" src="_static/timed.js"></script>
    <script type="text/javascript" src="_static/clickable.js"></script>
    <script type="text/javascript" src="_static/timedclickable.js"></script>
    <script type="text/javascript" src="_static/reveal.js"></script>
    <script type="text/javascript" src="_static/lib/prettify.js"></script>
    <script type="text/javascript" src="_static/lib/hammer.min.js"></script>
    <script type="text/javascript" src="_static/parsons.js"></script>
    <script type="text/javascript" src="_static/timedparsons.js"></script>
    <script type="text/javascript" src="_static/jquery.highlight.js"></script>
    <script type="text/javascript" src="_static/bookfuncs.js"></script>
    <script type="text/javascript" src="_static/codemirror.js"></script>
    <script type="text/javascript" src="_static/xml.js"></script>
    <script type="text/javascript" src="_static/css.js"></script>
    <script type="text/javascript" src="_static/htmlmixed.js"></script>
    <script type="text/javascript" src="_static/python.js"></script>
    <script type="text/javascript" src="_static/javascript.js"></script>
    <script type="text/javascript" src="_static/activecode.js"></script>
    <script type="text/javascript" src="_static/skulpt.min.js"></script>
    <script type="text/javascript" src="_static/skulpt-stdlib.js"></script>
    <script type="text/javascript" src="_static/clike.js"></script>
    <script type="text/javascript" src="_static/timed_activecode.js"></script>
    <script type="text/javascript" src="_static/d3.v2.min.js"></script>
    <script type="text/javascript" src="_static/jquery.ba-bbq.min.js"></script>
    <script type="text/javascript" src="_static/jquery.jsPlumb-1.3.10-all-min.js"></script>
    <script type="text/javascript" src="_static/pytutor.js"></script>
    <script type="text/javascript" src="_static/codelens.js"></script>
    <script type="text/javascript" src="_static/translations.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="_static/jquery-ui-1.10.3.custom.min.js"></script>
    <script type="text/javascript" src="_static/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.0.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <script type="text/javascript" src="_static/waypoints.min.js"></script>
    <script type="text/javascript" src="_static/rangy-core.js"></script>
    <script type="text/javascript" src="_static/rangy-textrange.js"></script>
    <script type="text/javascript" src="_static/rangy-cssclassapplier.js"></script>
    <script type="text/javascript" src="_static/user-highlights.js"></script>
    <script type="text/javascript" src="_static/jquery.idle-timer.js"></script>
    <script type="text/javascript" src="_static/processing-1.4.1.min.js"></script>
    <script type="text/javascript" src="_static/jquery.hotkey.js"></script>
    <script type="text/javascript" src="_static/jquery-migrate-1.2.1.min.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="author" title="Sobre este documento" href="about.html" />
    <link rel="index" title="Índice" href="genindex.html" />
    <link rel="search" title="Búsqueda" href="search.html" />
    <link rel="next" title="21. Lab 1.1: Familiarización" href="lab-01.html" />
    <link rel="prev" title="19. Gráficas con Python" href="Gráficas.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
<link rel="shortcut icon" href="/runestone/static/favicon.ico" type="image/ico" />

<script type="text/javascript">
  eBookConfig = {};
  eBookConfig.host = 'http://127.0.0.1:8000' ? 'http://127.0.0.1:8000' : 'http://127.0.0.1:8000';
  eBookConfig.app = eBookConfig.host+'/runestone';
  eBookConfig.ajaxURL = eBookConfig.app+'/ajax/';
  eBookConfig.course = 'CS101';
  eBookConfig.logLevel = 0;
  eBookConfig.loginRequired = false;
  eBookConfig.build_info = "py";
  eBookConfig.isLoggedIn = false;
  eBookConfig.useRunestoneServices = false;
  eBookConfig.python3 = true;
  eBookConfig.basecourse = 'informatica';
  eBookConfig.runestone_version = '2.7.11';
</script>

<div id="fb-root"></div>
<script>
  (function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s); js.id = id;
    js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&status=0";
    fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'facebook-jssdk'));
</script>



  </head>
  <body role="document">


<!-- Begin navbar -->
<div id="navbar" class="navbar navbar-default navbar-fixed-top" role="navigation">

  <div class="container">

    <div class="navbar-header">
      <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
      <button type='button' class='navbar-toggle' data-toggle="collapse" data-target=".navbar-ex1-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div>
        <div style='float:left;display:block;background-size:90px 40px !important;height:40px;width:90px;background:transparent url("_static/eii_small.png") no-repeat 0px 0px;'>&nbsp; </div>
        <a class="navbar-brand" href="index.html">Informática</a>
      </div>
    </div>

    <div class="navbar-collapse collapse navbar-ex1-collapse">

      <ul class="nav navbar-nav navbar-right">

        <!--<li class="divider-vertical"></li>-->
        
          <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Ir a <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"><ul>
<li><a class="reference internal" href="#">20. Torres de Hanoi</a><ul>
<li><a class="reference internal" href="#usando-generadores">20.1. Usando generadores</a></li>
<li><a class="reference internal" href="#interfaces-de-usuario-con-jupyter-notebook">20.2. Interfaces de usuario con Jupyter Notebook</a></li>
</ul>
</li>
</ul>
</ul>
</li>
          <!--<li class="divider-vertical"></li>-->
        
        <!--
          
  <li id="relations-prev" title="Previous Chapter - 19. Gráficas con Python" data-toggle="tooltip">
    <a href="Gráficas.html" >
      <i class='glyphicon glyphicon-backward' style='opacity:0.9;'></i>
    </a>
  </li>
  
  <li id="relations-next" title='Next Chapter - 21. Lab 1.1: Familiarización' data-toggle="tooltip" >
    <a href="lab-01.html" >
      <i class='glyphicon glyphicon-forward' style='opacity:0.9;'></i>
    </a>
  </li>
  <li class="divider-vertical"></li>

<script type="text/javascript">
  opts = {'placement':'bottom',
          'selector': '',
          'delay': { show: 100, hide: 50}
         };

  $('#relations-prev').tooltip(opts);
  $('#relations-next').tooltip(opts);
</script>
        -->

        <li class="divider-vertical"></li>

        <!-- search dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-search" style='opacity:0.9;'></i>
          </a>
          <ul class='dropdown-menu'>
            
                <li><a href='index.html'>Índice del libro</a></li>
            
            <li><a href="genindex.html">Índice alfabético</a></li>
            <li class="divider"></li>
            <li id="scratch_ac_link"><a href="javascript:ACFactory.toggleScratchActivecode()">Código activo de prueba</a></li>
            <li class="divider"></li>
            <li style="width: 240px;">
              <form class="navbar-search" style="margin:10px;" action="search.html" method="get">
                <div class="input-group">
                  <input type="text" class="form-control" name="q" placeholder="Buscar en el libro" />
                  <span class="input-group-btn">
                    <button class="btn btn-primary" style="margin:0;" type="submit">
                      <i class="glyphicon glyphicon-search"></i>
                    </button>
                  </span>
                </div><!-- /input-group -->
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
            </li>
          </ul>
        </li>
        <!-- end search dropdown -->

        
        <li class="divider-vertical"></li>

        <!-- help menu dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-question-sign" style="opacity:0.9;"></i>
          </a>
          <ul class="dropdown-menu user-menu">
            <li><a href="_static/navhelp.html">Ayuda a la navegación</a></li>
            
            <li>
  <a href="_sources/hanoi.rst.txt"
     rel="nofollow">Ver fuente</a></li>
            
            <li class="divider"></li>
            <li><a href='http://runestoneinteractive.org'>Acerca de Runestone</a></li>
          </ul>
        </li>
        <!-- end help menu dropdown -->

        <li class="divider-vertical"></li>

      </ul>

    </div>
  </div>
</div>


<div class="container" id="continue-reading"></div>

<div class="container" id="main-content">
  
  <div class="section" id="torres-de-hanoi">
<h1>20. Torres de Hanoi<a class="headerlink" href="#torres-de-hanoi" title="Enlazar permanentemente con este título">¶</a></h1>
<p>Las Torres de Hanoi es un juego infantil que consiste en un armazón con
tres palos (torres) en los que se inserta un conjunto de discos de
distinto tamaño con un agujero en su punto medio.</p>
<p>El juego consiste en mover los discos uno a uno desde un palo a otro
manteniendo siempre una regla: <em>un disco nunca puede posarse sobre otro
disco de menor tamaño</em>. Esto exige utilizar el tercer palo como un punto
intermedio. Vamos a construir un programa para resolverlo.</p>
<p>La solución es trivial si empleamos una función recursiva. Mover los
ocho discos de la imagen al palo de la derecha solo se puede hacer si
movemos los siete discos superiores al palo central, movemos entonces el
disco mayor al palo de la derecha y entonces movemos los siete discos
del palo central al palo de la derecha. No hay otra posible solución,
para que el disco mayor se mueva al palo de la derecha la única
posibilidad es que no haya ningún disco en este palo y por tanto todos
tienen que estar en el central.</p>
<p>Lo interesante de este análisis es que ya tenemos la solución final,
porque mover los siete discos superiores al palo central es un problema
complétamente análogo al anterior. Hay que mover los seis discos
superiores al derecho, mover el séptimo al palo central y entonces mover
los seis discos superiores al palo central.</p>
<p>Podemos, por ejemplo, generar la lista completa de movimientos usando
este método. El algoritmo es sumamente sencillo.</p>
<ol class="arabic simple">
<li>Si no hay que mover ningún disco la lista de movimientos es la lista
vacía.</li>
<li>Para mover N discos desde el palo X al palo Y:<ol class="arabic">
<li>Determinar el otro palo Z.</li>
<li>Mover N-1 discos de X a Z.</li>
<li>Mover el disco N-simo de X a Y. Generar el movimiento <code class="docutils literal"><span class="pre">X</span> <span class="pre">-&gt;</span> <span class="pre">Y</span></code></li>
<li>Mover N-1 discos de Z a Y.</li>
</ol>
</li>
</ol>
<p>Se trata de un algoritmo recursivo donde el primer caso es el caso base,
que rompe la recursión.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">hanoi</span><span class="p">(</span><span class="n">ndiscos</span><span class="p">,</span> <span class="n">desde</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">hasta</span><span class="o">=</span><span class="mi">2</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">ndiscos</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">[]</span>
    <span class="n">tmp</span> <span class="o">=</span> <span class="p">({</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">}</span> <span class="o">-</span> <span class="p">{</span><span class="n">desde</span><span class="p">,</span><span class="n">hasta</span><span class="p">})</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">hanoi</span><span class="p">(</span><span class="n">ndiscos</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">desde</span><span class="p">,</span> <span class="n">tmp</span><span class="p">)</span> <span class="o">+</span> <span class="p">[(</span><span class="n">desde</span><span class="p">,</span> <span class="n">hasta</span><span class="p">)]</span> <span class="o">+</span> <span class="n">hanoi</span><span class="p">(</span><span class="n">ndiscos</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">tmp</span><span class="p">,</span> <span class="n">hasta</span><span class="p">)</span>
</pre></div>
</div>
<p>La forma en que determinamos el otro palo puede parecerte extraña en
este momento. Vamos a explicarla un poco. Nuestra implementación utiliza
conjuntos de Python. Un conjunto es similar a una lista pero los
elementos no pueden repetirse y se colocan en orden. Se definen con
llaves en lugar de corchetes:</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">A</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">}</span>
<span class="n">A</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">}</span>
</pre></div>
</div>
<p>Los conjuntos permiten las operaciones normales del álgebra de Boole. En
particular la resta de conjuntos elimina del conjunto minuendo todos los
elementos del sustraendo:</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">A</span> <span class="o">-</span> <span class="p">{</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">9</span><span class="p">}</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">}</span>
</pre></div>
</div>
<p>Si los palos los numeramos del 0 al 2, el conjunto de todos los palos es
<code class="docutils literal"><span class="pre">{0,1,2}</span></code> y el conjunto de todos los palos menos el origen y el
destino es el conjunto <code class="docutils literal"><span class="pre">{0,1,2}</span> <span class="pre">-</span> <span class="pre">{desde,hasta}</span></code>. Por ejemplo si el
origen es el <code class="docutils literal"><span class="pre">0</span></code> y el destino el <code class="docutils literal"><span class="pre">2</span></code> tendríamos:</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">}</span> <span class="o">-</span> <span class="p">{</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">}</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span><span class="mi">1</span><span class="p">}</span>
</pre></div>
</div>
<p>Esto es un conjunto de un único elemento, que podemos extraer usando la
función <code class="docutils literal"><span class="pre">pop</span></code> que tienen todos los contenedores (las listas también).</p>
<p>Lo demás no es más que la expresión directa del algoritmo teniendo en
cuenta que debe devolver una lista con los movimientos y que cada
movimiento no es más que la pareja de valores del palo origen y el palo
destino. Cuando movemos N-1 discos tenemos que recoger la lista de
movimientos correspondientes y añadirla en el punto adecuado a nuestro
valor de retorno.</p>
<p>Vamos a hacer una prueba.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">hanoi</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">)]</span>
</pre></div>
</div>
<div class="section" id="usando-generadores">
<h2>20.1. Usando generadores<a class="headerlink" href="#usando-generadores" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Ya hemos resuelto el problema y funciona correctamente, pero ¿qué
pasaría si el número de discos es 10? ¿y 12? ¿y 20?</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">hanoi</span><span class="p">(</span><span class="mi">10</span><span class="p">)),</span> <span class="nb">len</span><span class="p">(</span><span class="n">hanoi</span><span class="p">(</span><span class="mi">12</span><span class="p">)),</span> <span class="nb">len</span><span class="p">(</span><span class="n">hanoi</span><span class="p">(</span><span class="mi">20</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">(</span><span class="mi">1023</span><span class="p">,</span> <span class="mi">4095</span><span class="p">,</span> <span class="mi">1048575</span><span class="p">)</span>
</pre></div>
</div>
<p>En general para <span class="math">\(n\)</span> discos obtenemos una lista de <span class="math">\(2^n - 1\)</span>
movimientos. Eso es mucho. ¿Es necesario guardar todos los números en
memoria?</p>
<p>En muchas situaciones podemos ahorrar un montón de memoria si hacemos lo
mismo que la función <code class="docutils literal"><span class="pre">range</span></code>. Podemos ir generando los números
conforme los vaya pidiendo el usuario. Para eso están los generadores en
Python. Basta producir los movimientos con <code class="docutils literal"><span class="pre">yield</span></code>. Esta palabra
reservada suspende la ejecución de la función hasta que el usuario llame
a la función <code class="docutils literal"><span class="pre">next</span></code>. Escribir la función de esta forma es un poco más
lioso pero tampoco mucho.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">hanoi</span><span class="p">(</span><span class="n">ndiscos</span><span class="p">,</span> <span class="n">desde</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">hasta</span><span class="o">=</span><span class="mi">2</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">ndiscos</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">[]</span>
    <span class="n">tmp</span> <span class="o">=</span> <span class="p">({</span><span class="o">*</span><span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)}</span> <span class="o">-</span> <span class="p">{</span><span class="n">desde</span><span class="p">,</span><span class="n">hasta</span><span class="p">})</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">mov</span> <span class="ow">in</span> <span class="n">hanoi</span><span class="p">(</span><span class="n">ndiscos</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">desde</span><span class="p">,</span> <span class="n">tmp</span><span class="p">):</span>
        <span class="k">yield</span> <span class="n">mov</span>
    <span class="k">yield</span> <span class="p">(</span><span class="n">desde</span><span class="p">,</span> <span class="n">hasta</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">mov</span> <span class="ow">in</span> <span class="n">hanoi</span><span class="p">(</span><span class="n">ndiscos</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">tmp</span><span class="p">,</span> <span class="n">hasta</span><span class="p">):</span>
        <span class="k">yield</span> <span class="n">mov</span>
</pre></div>
</div>
<p>Ya no construimos una lista sino que producimos movimientos con
<code class="docutils literal"><span class="pre">yield</span></code>. Cuando necesitamos mover N-1 discos tendremos que llamar de
forma recursiva a <code class="docutils literal"><span class="pre">hanoi</span></code>, pero ahora se usa igual que <code class="docutils literal"><span class="pre">range</span></code>,
tendremos que iterar sobre sus elementos con un <code class="docutils literal"><span class="pre">for</span></code>.</p>
<p>La forma en que se usa ahora es similar a <code class="docutils literal"><span class="pre">range</span></code>.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="o">*</span><span class="n">hanoi</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">mov</span> <span class="ow">in</span> <span class="n">hanoi</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">mov</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39; &#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<p>Habrás notado que no hemos representado las torres de ninguna forma en
ningún momento. No es necesario para resolver el problema pero puede ser
útil para visualizar el estado de las torres en cada paso. Eso se puede
hacer a posteriori fácilmente si usamos generadores.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">torres_hanoi</span><span class="p">(</span><span class="n">ndiscos</span><span class="p">,</span> <span class="n">desde</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">hasta</span><span class="o">=</span><span class="mi">2</span><span class="p">):</span>
    <span class="n">torres</span> <span class="o">=</span> <span class="p">[[],[],[]]</span>
    <span class="n">torres</span><span class="p">[</span><span class="n">desde</span><span class="p">]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">reversed</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">ndiscos</span><span class="p">)))</span>
    <span class="k">yield</span> <span class="n">torres</span>
    <span class="k">for</span> <span class="n">desde</span><span class="p">,</span> <span class="n">hasta</span> <span class="ow">in</span> <span class="n">hanoi</span><span class="p">(</span><span class="n">ndiscos</span><span class="p">,</span> <span class="n">desde</span><span class="p">,</span> <span class="n">hasta</span><span class="p">):</span>
        <span class="n">torres</span><span class="p">[</span><span class="n">hasta</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">torres</span><span class="p">[</span><span class="n">desde</span><span class="p">]</span><span class="o">.</span><span class="n">pop</span><span class="p">())</span>
        <span class="k">yield</span> <span class="n">torres</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">torres</span> <span class="ow">in</span> <span class="n">torres_hanoi</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="o">*</span><span class="n">torres</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\t\t</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>           <span class="p">[]</span>              <span class="p">[]</span>
<span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>              <span class="p">[]</span>              <span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="p">[</span><span class="mi">2</span><span class="p">]</span>         <span class="p">[</span><span class="mi">1</span><span class="p">]</span>             <span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="p">[</span><span class="mi">2</span><span class="p">]</span>         <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>          <span class="p">[]</span>
<span class="p">[]</span>          <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>          <span class="p">[</span><span class="mi">2</span><span class="p">]</span>
<span class="p">[</span><span class="mi">0</span><span class="p">]</span>         <span class="p">[</span><span class="mi">1</span><span class="p">]</span>             <span class="p">[</span><span class="mi">2</span><span class="p">]</span>
<span class="p">[</span><span class="mi">0</span><span class="p">]</span>         <span class="p">[]</span>              <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="p">[]</span>          <span class="p">[]</span>              <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
<p>También es sencillo obtener el estado después de <em>n</em> iteraciones del
algoritmo.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">torres_hanoi_nth</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">ndiscos</span><span class="o">=</span><span class="mi">8</span><span class="p">):</span>
    <span class="n">mov</span> <span class="o">=</span> <span class="n">torres_hanoi</span><span class="p">(</span><span class="n">ndiscos</span><span class="p">,</span> <span class="n">desde</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">hasta</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
        <span class="nb">next</span><span class="p">(</span><span class="n">mov</span><span class="p">)</span>
    <span class="k">return</span> <span class="nb">next</span><span class="p">(</span><span class="n">mov</span><span class="p">)</span>
</pre></div>
</div>
<p>Por ejemplo, veamos el estado después de 20 iteraciones en el caso de 8
discos.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="o">*</span><span class="n">torres_hanoi_nth</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="n">ndiscos</span><span class="o">=</span><span class="mi">8</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="p">[</span><span class="mi">3</span><span class="p">]</span>
</pre></div>
</div>
<p>En realidad esto mismo se puede hacer con funciones de la biblioteca
estándar. Por ejemplo, <code class="docutils literal"><span class="pre">islice</span></code> es un generador que solo produce un
rango de elementos de otro generador. En este caso simplemente nos
saltamos hasta el elemento <em>n-simo</em> y producimos un elemento entonces.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">itertools</span> <span class="k">import</span> <span class="n">islice</span>

<span class="k">def</span> <span class="nf">torres_hanoi_nth</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">ndiscos</span><span class="o">=</span><span class="mi">8</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">next</span><span class="p">(</span><span class="n">islice</span><span class="p">(</span><span class="n">torres_hanoi</span><span class="p">(</span><span class="n">ndiscos</span><span class="p">,</span> <span class="n">desde</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">hasta</span><span class="o">=</span><span class="mi">2</span><span class="p">),</span> <span class="n">n</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="o">*</span><span class="n">torres_hanoi_nth</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="n">ndiscos</span><span class="o">=</span><span class="mi">8</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="p">[</span><span class="mi">3</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="interfaces-de-usuario-con-jupyter-notebook">
<h2>20.2. Interfaces de usuario con Jupyter Notebook<a class="headerlink" href="#interfaces-de-usuario-con-jupyter-notebook" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Este tipo de ejercicios se presta a una visualización más gráfica. Vamos
a ver lo mínimo para construir interfaces de usuario con Jupyter.</p>
<p>Necesitaremos una forma de dibujar las torres y una forma de
proporcionar una interfaz de usuario para controlar lo que ya hemos
hecho.</p>
<p>En Jupyter Notebook (y por tanto <a class="reference external" href="http://tmpnb.org">tmpnb.org</a>
tenemos acceso a todas las capacidades del navegador. En particular
podemos dibujar gráficos escalables utilizando el <a class="reference external" href="https://www.w3.org/Graphics/SVG/">estándar
SVG</a>. Los gráficos SVG se pueden
generar con cualquier programa de dibujo vectorial (e.g.
<a class="reference external" href="http://www.inkscape.org">Inkscape</a>) pero en este ejemplo lo vamos a
hacer a mano.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">IPython.display</span> <span class="k">import</span> <span class="n">SVG</span>
<span class="n">SVG</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">&lt;svg width=&quot;320&quot; height=&quot;200&quot;&gt;</span>
<span class="s1">  &lt;line x1=&quot;150&quot; x2=&quot;150&quot; y1=&quot;10&quot; y2=&quot;150&quot; stroke=&quot;gray&quot; stroke-width=&quot;20&quot;/&gt;</span>
<span class="s1">  &lt;rect x=&quot;50&quot; y=&quot;150&quot; rx=&quot;15&quot; ry=&quot;15&quot; width=&quot;200&quot; height=&quot;30&quot;</span>
<span class="s1">        stroke=&quot;gray&quot; fill=&quot;lightblue&quot; stroke-width=&quot;1&quot;/&gt;</span>
<span class="s1">&lt;/svg&gt;</span>
<span class="s1">&#39;&#39;&#39;</span><span class="p">)</span>
</pre></div>
</div>
<img alt="hanoi_files/hanoi_29_0.svg" src="hanoi_files/hanoi_29_0.svg" /><p>No es muy complicado, ¿verdad? Vamos a construir una función que dado un
conjunto de torres con sus discos correspondientes dibuje el SVG
equivalente.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">grosor</span> <span class="o">=</span> <span class="mi">30</span>
<span class="n">diametro_max</span> <span class="o">=</span> <span class="mi">9</span><span class="o">*</span><span class="n">grosor</span>

<span class="k">def</span> <span class="nf">torres_svg</span><span class="p">(</span><span class="n">torres</span><span class="p">):</span>
    <span class="n">ndiscos</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">([</span><span class="nb">len</span><span class="p">(</span><span class="n">t</span><span class="p">)</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">torres</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">SVG</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="s1">&#39;&lt;svg width=&quot;</span><span class="si">{}</span><span class="s1">&quot; height=&quot;</span><span class="si">{}</span><span class="s1">&quot;&gt;</span><span class="si">{}</span><span class="s1">&lt;/svg&gt;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="mi">3</span><span class="o">*</span><span class="n">diametro_max</span><span class="p">,</span>
            <span class="n">ndiscos</span><span class="o">*</span><span class="n">grosor</span><span class="p">,</span>
            <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">torre_svg</span><span class="p">(</span><span class="n">t</span><span class="p">,</span><span class="n">i</span><span class="p">,</span><span class="n">ndiscos</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">t</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">torres</span><span class="p">)])))</span>

<span class="k">def</span> <span class="nf">torre_svg</span><span class="p">(</span><span class="n">torre</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">ndiscos</span><span class="p">):</span>
    <span class="k">return</span> <span class="s1">&#39;&#39;&#39;&lt;line x1=&quot;</span><span class="si">{0}</span><span class="s1">&quot; x2=&quot;</span><span class="si">{0}</span><span class="s1">&quot;</span>
<span class="s1">                    y1=&quot;0&quot; y2=&quot;</span><span class="si">{1}</span><span class="s1">&quot;</span>
<span class="s1">                    stroke=&quot;gray&quot;</span>
<span class="s1">                    stroke-width=&quot;20&quot;/&gt;</span><span class="si">{2}</span><span class="s1">&#39;&#39;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
        <span class="p">(</span><span class="mf">0.5</span> <span class="o">+</span> <span class="n">pos</span><span class="p">)</span><span class="o">*</span><span class="n">diametro_max</span><span class="p">,</span>
        <span class="n">ndiscos</span><span class="o">*</span><span class="n">grosor</span><span class="p">,</span>
        <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">disco_svg</span><span class="p">(</span><span class="n">tamano</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">posy</span><span class="p">,</span> <span class="n">ndiscos</span><span class="p">)</span> <span class="k">for</span> <span class="n">posy</span><span class="p">,</span> <span class="n">tamano</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">torre</span><span class="p">)]))</span>

<span class="k">def</span> <span class="nf">disco_svg</span><span class="p">(</span><span class="n">tamano</span><span class="p">,</span> <span class="n">posx</span><span class="p">,</span> <span class="n">posy</span><span class="p">,</span> <span class="n">ndiscos</span><span class="p">):</span>
    <span class="n">diametro</span> <span class="o">=</span> <span class="n">diametro_max</span> <span class="o">-</span> <span class="p">(</span><span class="n">ndiscos</span> <span class="o">-</span> <span class="n">tamano</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="n">grosor</span>
    <span class="k">return</span> <span class="s1">&#39;&#39;&#39;&lt;rect x=&quot;</span><span class="si">{0}</span><span class="s1">&quot; y=&quot;</span><span class="si">{1}</span><span class="s1">&quot;</span>
<span class="s1">                    width=&quot;</span><span class="si">{2}</span><span class="s1">&quot; height=&quot;</span><span class="si">{3}</span><span class="s1">&quot;</span>
<span class="s1">                    rx=&quot;</span><span class="si">{4}</span><span class="s1">&quot; ry=&quot;</span><span class="si">{4}</span><span class="s1">&quot;</span>
<span class="s1">                    stroke=&quot;gray&quot; fill=&quot;lightblue&quot; stroke-width=&quot;1&quot;/&gt;&#39;&#39;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
        <span class="p">(</span><span class="mf">0.5</span> <span class="o">+</span> <span class="n">posx</span><span class="p">)</span><span class="o">*</span><span class="n">diametro_max</span> <span class="o">-</span> <span class="n">diametro</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span>
        <span class="n">ndiscos</span><span class="o">*</span><span class="n">grosor</span> <span class="o">-</span> <span class="p">(</span><span class="n">posy</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="n">grosor</span><span class="p">,</span>
        <span class="n">diametro</span><span class="p">,</span> <span class="n">grosor</span><span class="p">,</span> <span class="n">grosor</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">torres_svg</span><span class="p">([[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">]])</span>
</pre></div>
</div>
<img alt="hanoi_files/hanoi_32_0.svg" src="hanoi_files/hanoi_32_0.svg" /><div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">IPython.display</span> <span class="k">import</span> <span class="n">SVG</span><span class="p">,</span> <span class="n">display</span>

<span class="k">def</span> <span class="nf">torres</span><span class="p">(</span><span class="n">torres</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span>
           <span class="n">radius</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
    <span class="n">n</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">([</span><span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">torres</span><span class="p">])</span>
    <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;total_width&#39;</span><span class="p">:</span>  <span class="mi">6</span><span class="o">*</span><span class="n">radius</span><span class="p">,</span>
        <span class="s1">&#39;total_height&#39;</span><span class="p">:</span> <span class="n">n</span><span class="o">*</span><span class="n">width</span><span class="p">,</span>
        <span class="s1">&#39;radius&#39;</span><span class="p">:</span>       <span class="n">radius</span><span class="p">,</span>
        <span class="s1">&#39;width&#39;</span><span class="p">:</span>        <span class="n">width</span><span class="p">,</span>
        <span class="s1">&#39;pos&#39;</span><span class="p">:</span>          <span class="p">(</span><span class="n">radius</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">radius</span><span class="o">*</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)),</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">SVG</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">&lt;svg width=&quot;</span><span class="si">{total_width}</span><span class="s1">&quot; height=&quot;</span><span class="si">{total_height}</span><span class="s1">&quot; version=&quot;1.1&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;</span>
<span class="s1">  &lt;line x1=&quot;</span><span class="si">{pos[0]}</span><span class="s1">&quot; x2=&quot;</span><span class="si">{pos[0]}</span><span class="s1">&quot; y1=&quot;0&quot; y2=&quot;</span><span class="si">{height}</span><span class="s1">&quot; stroke=&quot;gray&quot; stroke-width=&quot;20&quot;/&gt;</span>
<span class="s1">  &lt;line x1=&quot;</span><span class="si">{pos[1]}</span><span class="s1">&quot; x2=&quot;</span><span class="si">{pos[1]}</span><span class="s1">&quot; y1=&quot;0&quot; y2=&quot;</span><span class="si">{height}</span><span class="s1">&quot; stroke=&quot;gray&quot; stroke-width=&quot;20&quot;/&gt;</span>
<span class="s1">  &lt;line x1=&quot;</span><span class="si">{pos[2]}</span><span class="s1">&quot; x2=&quot;</span><span class="si">{pos[2]}</span><span class="s1">&quot; y1=&quot;0&quot; y2=&quot;</span><span class="si">{height}</span><span class="s1">&quot; stroke=&quot;gray&quot; stroke-width=&quot;20&quot;/&gt;</span>
<span class="s1">  </span><span class="si">{discs}</span><span class="s1"></span>
<span class="s1">&lt;/svg&gt;&#39;&#39;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">params</span><span class="p">,</span> <span class="n">discs</span><span class="o">=</span><span class="n">discos</span><span class="p">(</span><span class="n">torres</span><span class="p">,</span> <span class="o">**</span><span class="n">params</span><span class="p">)))</span>

<span class="k">def</span> <span class="nf">discos</span><span class="p">(</span><span class="n">torres</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">sum</span><span class="p">([</span><span class="n">discos_palo</span><span class="p">(</span><span class="n">torres</span><span class="p">[</span><span class="n">palo</span><span class="p">],</span>
                            <span class="n">pos</span><span class="p">[</span><span class="n">palo</span><span class="p">],</span>
                            <span class="n">radius</span><span class="o">=</span><span class="n">radius</span><span class="p">,</span>
                            <span class="n">width</span><span class="o">=</span><span class="n">width</span><span class="p">)</span> <span class="k">for</span> <span class="n">palo</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)],</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">discos_palo</span><span class="p">(</span><span class="n">torre</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>

    <span class="k">return</span> <span class="s1">&#39;&#39;&#39;  &lt;rect x=&quot;</span><span class="si">{x}</span><span class="s1">&quot; y=&quot;</span><span class="si">{y}</span><span class="s1">&quot; rx=&quot;</span><span class="si">{r}</span><span class="s1">&quot; ry=&quot;</span><span class="si">{r}</span><span class="s1">&quot; width=&quot;</span><span class="si">{d}</span><span class="s1">&quot; height=&quot;</span><span class="si">{width}</span><span class="s1">&quot;</span>
<span class="s1">        stroke=&quot;black&quot; fill=&quot;#c0d0e0&quot; stroke-width=&quot;1&quot;/&gt;&#39;&#39;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
    <span class="p">)</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">torres</span><span class="p">([</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">)),</span> <span class="p">[],</span> <span class="p">[]])</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">pieza</span><span class="p">(</span><span class="n">sz</span><span class="p">)</span>
<span class="o">&lt;</span><span class="n">rect</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;10&quot;</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;10&quot;</span> <span class="n">width</span><span class="o">=</span><span class="s2">&quot;30&quot;</span> <span class="n">height</span><span class="o">=</span><span class="s2">&quot;30&quot;</span> <span class="n">stroke</span><span class="o">=</span><span class="s2">&quot;black&quot;</span> <span class="n">fill</span><span class="o">=</span><span class="s2">&quot;transparent&quot;</span> <span class="n">stroke</span><span class="o">-</span><span class="n">width</span><span class="o">=</span><span class="s2">&quot;5&quot;</span><span class="o">/&gt;</span>
  <span class="o">&lt;</span><span class="n">rect</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;60&quot;</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;10&quot;</span> <span class="n">rx</span><span class="o">=</span><span class="s2">&quot;10&quot;</span> <span class="n">ry</span><span class="o">=</span><span class="s2">&quot;10&quot;</span> <span class="n">width</span><span class="o">=</span><span class="s2">&quot;30&quot;</span> <span class="n">height</span><span class="o">=</span><span class="s2">&quot;30&quot;</span> <span class="n">stroke</span><span class="o">=</span><span class="s2">&quot;black&quot;</span> <span class="n">fill</span><span class="o">=</span><span class="s2">&quot;transparent&quot;</span> <span class="n">stroke</span><span class="o">-</span><span class="n">width</span><span class="o">=</span><span class="s2">&quot;5&quot;</span><span class="o">/&gt;</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">ipywidgets</span> <span class="k">import</span> <span class="n">interact</span>
<span class="n">interact</span><span class="p">(</span><span class="n">torres_hanoi_nth</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">400</span><span class="p">),</span> <span class="n">ndiscs</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>


  
      
  <li id="relations-prev" class="navLink" title='Capítulo anterior - 19. Gráficas con Python' data-toggle="tooltip">
    <a href="Gráficas.html" >
      <i class='prevNav glyphicon glyphicon-chevron-left'></i>
    </a>
  </li>
  <a class="navLinkBg" id="navLinkBgLeft"  href="Gráficas.html" ></a>
  
  <li id="relations-next" class="navLink" title='Capítulo siguiente - 21. Lab 1.1: Familiarización' data-toggle="tooltip" >
    <a href="lab-01.html" >
      <i id="relationsNextIcon" class='nextNav glyphicon glyphicon-chevron-right'></i>
    </a>
  </li>
  <a class="navLinkBg navLink" id="navLinkBgRight" href="lab-01.html" >Next Section - 21. Lab 1.1: Familiarización</a>

<script type="text/javascript">

  $('#relations-prev').tooltip({'placement':'right', 'selector': '', 'delay': { show: 100, hide: 50}});
  $('#relations-next').tooltip({'placement':'left', 'selector': '', 'delay': { show: 100, hide: 50}});
  
</script>
  
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      
      | <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2017 Francisco Moya.
    </p>
  </div>
</footer>



<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-32029811-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>



  </body>
</html>